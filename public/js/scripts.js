!function(e){var o={};function t(a){if(o[a])return o[a].exports;var n=o[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=o,t.d=function(e,o,a){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="/",t(t.s=61)}({61:function(e,o,t){e.exports=t(62)},62:function(e,o){function t(){$("#SideContainerItemsFixed").load(window.location.href+" #SideContainerItemsFixed"),$("#SideContainerItemsFloating").load(window.location.href+" #SideContainerItemsFloating"),$(".TotalCartItems").load(window.location.href+" .TotalCartItems"),$(".TotalCartItemsSidebar").load(window.location.href+" .TotalCartItemsSidebar"),$(".CartSubTotal").load(window.location.href+" .CartSubTotal"),$(".AvailableStock").load(window.location.href+" .AvailableStock")}$(".loader-on-change").on("change",function(){return $("#full-loader").removeClass("Hidden"),!0}),$(".loader-on-submit").on("submit",function(){return $("#full-loader").removeClass("Hidden"),!0}),$(".dont-submit-on-enter, .dson").keypress(function(e){if(console.log("ENTER"),13==e.which)return!1;13==e.which&&e.preventDefault()}),$(".InputBtnQ").on("change keyup",function(){var e=$(this).siblings(".ArticlePrice").val(),o=$(this).val(),t=e*o,a=$(this).parent().parent().parent().siblings(".TotalItemPrice");console.log(e,o,t),function(e,o,t){e.siblings(".InputBtnQ").removeClass("Hidden"),o.html("$ "+t)}($(this),a,t)}),$("#MainOverlay").click(function(){checkoutSidebar("hide")}),window.checkoutSidebar=function(e){var o=$(".CheckoutCart"),t=$(".main-wrapper"),a=function(){o.addClass("active"),t.addClass("allow-sidebar")},n=function(){o.removeClass("active"),t.removeClass("allow-sidebar")};if(void 0==e)o.hasClass("active")?n():a();else{if("show"==e)return a(),!1;if("hide"==e)return n(),!1}},window.openCheckoutDesktop=function(){return $(window).width()>768&&checkoutSidebar("show"),!1},window.openFilters=function(){var e=$("#SearchFilters"),o=$("#SearchFiltersTrigger");e.hasClass("active")?(e.removeClass("active"),o.show()):(e.addClass("active"),o.hide())},window.sumAllItems=function(){sum=0,$(".TotalItemPrice").each(function(e){sum+=parseInt($(this).html())}),$(".SubTotal").html(sum)},window.sumDivs=function(e,o){var t=0;e.each(function(){t+=parseFloat($(this).text())}),o.text(t)},window.checkVariantStock=function(){var e=$("#AddToCartForm"),o=e.serialize(),t=!1;return $.ajax({url:e.data("route"),method:"GET",dataType:"JSON",async:!1,data:o,success:function(e){console.log(e),1==e.response?("0"==e.message?($(".AvailableStock").html("No hay stock disponible"),$("#AddToCartFormBtn").prop("disabled",!0)):($(".AvailableStock").html("Stock disponible: "+e.message),$("#AddToCartFormBtn").prop("disabled",!1),t=!0,console.log("Entro en SUCCESS")),$("#MaxQuantity").prop("max",e.message)):($(".AvailableStock").html(e.message),$("#AddToCartFormBtn").prop("disabled",!0),console.log("Entro en error 1"))},error:function(e){$("#Error").html(e.responseText),t=!1,console.log(e),console.log("Entro en error 2")}}),t},window.setItemsData=function(){itemData=[],$(".Item-Data").each(function(){var e=$(this).data("id"),o=$(this).data("price"),t=$(this).data("variant"),a=$(this).val();item={},item.id=e,item.variant_id=t,item.price=o,item.quantity=a,total=o*a,$("."+e+"-TotalItemPrice").html(total),itemData.push(item)}),console.info(itemData),sumAllItems(),$("#Items-Data").val(itemData)},window.addToCart=function(e,o){$.ajax({url:e,method:"POST",dataType:"JSON",data:o,success:function(e){"success"==e.response?($(".AvailableStock").html("Stock disponible: "+e.newStock),toast_success("Ok!",e.message,"bottomCenter","",2500),t(),setItemsData(),setTimeout(function(){setItemsData(),sumAllItems()},100)):"warning"==e.response&&toast_success("Ups!",e.message,"bottomCenter")},error:function(e){$("#Error").html(e.responseText),console.log("Error en addtoCart()")}})},window.removeFromCart=function(e,o,a,n,s,r){$.ajax({url:e,method:"POST",dataType:"JSON",data:{cartItemId:o,variantId:a,quantity:n,action:r,method:"ajax"},success:function(e){"cart-removed"==e.response?(t(),window.location=window.location.href.split("?")[0],setItemsData()):"success"==e.response&&($(s).hide(100),$(s).remove(),t(),setItemsData())},error:function(e){console.log("Error en removeFromCart()"),console.log(e),location.reload()}})},window.submitCartToCheckout=function(e,o,t,a){$.ajax({url:e,method:"POST",dataType:"JSON",data:{data:t,action:a},success:function(e){console.log(e),"success"==e.response?(console.log(o),"reload"==o?window.location=window.location.href.split("?")[0]+"?checkout-on":window.location.href=o):(console.log("Error en submitForm"),console.log(e),toast_error("",e.message,"bottomCenter",""),$(".SideContainerError").html(e.message))},error:function(e){$("#Error").html(e.responseText),console.log("Error en submitForm()"),console.log(e)}})},window.validateAndSetCoupon=function(e,o,t){var a=$("#CouponDiv"),n=$("#SettedCoupon");$.ajax({url:e,method:"POST",dataType:"JSON",data:{code:o,cartid:t},beforeSend:function(){console.log("Comprobando cupón..."),$(".CouponLoader").removeClass("Hidden")},success:function(e){1==e.response?($("#CouponValidationMessage").html("Cupón aceptado !"),a.hide(200,function(){n.removeClass("Hidden")}),location.reload()):null==e.response&&$("#CouponValidationMessage").html(e.message),console.log(e)},error:function(e){$("#CouponValidationMessage").html(e.responseText),console.log(e)},complete:function(){$(".CouponLoader").addClass("Hidden")}})},window.addArticleToFavs=function(e,o,t,a,n){$.ajax({url:e,method:"POST",dataType:"JSON",data:{fav_id:o,article_id:t},success:function(e){if(1==e.response&&"added"==e.result)switch(a){case"reload":location.reload();break;case"show":n.removeClass("fav-icon-nofav"),n.addClass("fav-icon-isfav"),toast_success("Ok!","Producto agregado a favoritos","bottomCenter","",1e3);break;case"none":console.log("Actualizado - Sin Acción");default:console.log("No hay acción")}else 1==e.response&&"removed"==e.result&&(n.addClass("fav-icon-nofav"),n.removeClass("fav-icon-isfav"),toast_success("Ok!","Producto eliminado de favoritos","bottomCenter","",1e3));var o;(o=e.favsCount)>0?($(".FavMainIcon").removeClass("far"),$(".FavMainIcon").addClass("fa")):0==o?($(".FavMainIcon").removeClass("fa"),$(".FavMainIcon").addClass("far")):($(".FavMainIcon").removeClass("fa"),$(".FavMainIcon").removeClass("far"),$(".FavMainIcon").addClass("fa"),console.log("Error en setFavsTotalIcon()"))},error:function(e){$("#Error").html(e.responseText),console.log(e)}})},window.removeArticleFromFavs=function(e,o,t){var a=t;$.ajax({url:e,method:"POST",dataType:"JSON",data:{fav_id:o},success:function(e){if($("#Error").html(e.responseText),console.log(e),1==e.response)switch(console.log(a),a){case"reload":toast_success("Ok!","Producto eliminado de favoritos","bottomCenter","reload",1e3);break;default:console.log("No hay acción")}else console.log(e)},error:function(e){console.log(e)}})},window.removeAllArticlesFromFavs=function(e,o,t){$.ajax({url:e,method:"POST",dataType:"JSON",data:{customer_id:o},success:function(e){if(console.log(e),1==e.response)switch(t){case"reload":location.reload();break;default:console.log("No hay acción")}else $("#Error").html(e.message.errorInfo),console.log(e)},error:function(e){console.log(e)}})},$("#ResellerBox").hide(),window.openResellerRegistration=function(){$("#IsResellerCheckbox").prop("checked",!0),$(".IfResellerEnable").prop("disabled",!1),$("#ResellerBox").show(100),$("#ResellerCTA").hide(0),$(".NormaClientTitle").hide(0),$(".ResellerTitle").show(0)},window.closeResellerRegistration=function(){$("#IsResellerCheckbox").prop("checked",!1),$(".IfResellerEnable").prop("disabled",!0),$("#ResellerBox").hide(0),$("#ResellerCTA").show(100),$(".NormaClientTitle").show(0),$(".ResellerTitle").hide(0)},$(document).ready(function(){$(".GeoProvSelect").on("change",function(){var e=$(this).val();getGeoLocs(e)})}),window.closeElement=function(e){$(e).hide(100)},window.getParam=function(e){var o=null,t=[];return location.search.substr(1).split("&").forEach(function(a){(t=a.split("="))[0]===e&&(o=decodeURIComponent(t[1]))}),o},window.getParams=function(e){var o={},t=document.createElement("a");t.href=e;for(var a=t.search.substring(1).split("&"),n=0;n<a.length;n++){var s=a[n].split("=");o[s[0]]=decodeURIComponent(s[1])}return o}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZjcxMTQ3NDExZDUyNTM2YzgwYjUiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9qcy9zdG9yZS9zY3JpcHRzLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1cGRhdGVUb3RhbHMiLCIkIiwibG9hZCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIm9uIiwicmVtb3ZlQ2xhc3MiLCJrZXlwcmVzcyIsImUiLCJjb25zb2xlIiwibG9nIiwid2hpY2giLCJwcmV2ZW50RGVmYXVsdCIsInZhbHVlIiwidGhpcyIsInNpYmxpbmdzIiwidmFsIiwicXVhbnRpdHkiLCJuZXdWYWx1ZSIsIm5ld1ByaWNlVGFyZ2V0IiwicGFyZW50IiwiaHRtbCIsIm1vZGlmeUNhcnRJdGVtUSIsImNsaWNrIiwiY2hlY2tvdXRTaWRlYmFyIiwic3RhdGUiLCJzaWRlYmFyIiwid3JhcHBlciIsInNob3ciLCJhZGRDbGFzcyIsImhpZGUiLCJ1bmRlZmluZWQiLCJoYXNDbGFzcyIsIm9wZW5DaGVja291dERlc2t0b3AiLCJ3aWR0aCIsIm9wZW5GaWx0ZXJzIiwiZmlsdGVycyIsInRyaWdnZXIiLCJzdW1BbGxJdGVtcyIsInN1bSIsImVhY2giLCJpbmRleCIsInBhcnNlSW50Iiwic3VtRGl2cyIsIm9yaWdpbnMiLCJ0YXJnZXQiLCJwYXJzZUZsb2F0IiwidGV4dCIsImNoZWNrVmFyaWFudFN0b2NrIiwiZm9ybSIsImRhdGEiLCJzZXJpYWxpemUiLCJhbGxvd1N1Ym1pdCIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJkYXRhVHlwZSIsImFzeW5jIiwic3VjY2VzcyIsInJlc3BvbnNlIiwibWVzc2FnZSIsInByb3AiLCJlcnJvciIsInJlc3BvbnNlVGV4dCIsInNldEl0ZW1zRGF0YSIsIml0ZW1EYXRhIiwiaWQiLCJwcmljZSIsInZhcmlhbnRfaWQiLCJpdGVtIiwidG90YWwiLCJwdXNoIiwiaW5mbyIsImFkZFRvQ2FydCIsInJvdXRlIiwibmV3U3RvY2siLCJ0b2FzdF9zdWNjZXNzIiwic2V0VGltZW91dCIsInJlbW92ZUZyb21DYXJ0IiwiY2FydEl0ZW1JZCIsInZhcmlhbnRJZCIsImRpdiIsImFjdGlvbiIsInNwbGl0IiwicmVtb3ZlIiwicmVsb2FkIiwic3VibWl0Q2FydFRvQ2hlY2tvdXQiLCJ0b2FzdF9lcnJvciIsInZhbGlkYXRlQW5kU2V0Q291cG9uIiwiY29kZSIsImNhcnRpZCIsImNvdXBvbkRpdiIsImNvdXBvblNldCIsImJlZm9yZVNlbmQiLCJjb21wbGV0ZSIsImFkZEFydGljbGVUb0ZhdnMiLCJmYXZpZCIsImFydGljbGVpZCIsImRpc3BsYXlCdXR0b24iLCJmYXZfaWQiLCJhcnRpY2xlX2lkIiwicmVzdWx0IiwiZmF2cyIsImZhdnNDb3VudCIsInJlbW92ZUFydGljbGVGcm9tRmF2cyIsImRvYWN0aW9uIiwicmVtb3ZlQWxsQXJ0aWNsZXNGcm9tRmF2cyIsImN1c3RvbWVyaWQiLCJjdXN0b21lcl9pZCIsIm9wZW5SZXNlbGxlclJlZ2lzdHJhdGlvbiIsImNsb3NlUmVzZWxsZXJSZWdpc3RyYXRpb24iLCJkb2N1bWVudCIsInJlYWR5IiwicHJvdl9pZCIsImdldEdlb0xvY3MiLCJjbG9zZUVsZW1lbnQiLCJzZWxlY3RvciIsImdldFBhcmFtIiwicGFyYW1ldGVyTmFtZSIsInRtcCIsInNlYXJjaCIsInN1YnN0ciIsImZvckVhY2giLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRQYXJhbXMiLCJwYXJhbXMiLCJwYXJzZXIiLCJjcmVhdGVFbGVtZW50IiwidmFycyIsInN1YnN0cmluZyIsImxlbmd0aCIsInBhaXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWhCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQWlCLFdBQ0EsV0FBMkIsT0FBQWpCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFRLEVBQUFDLEdBQXNELE9BQUFSLE9BQUFTLFVBQUFDLGVBQUFqQixLQUFBYyxFQUFBQyxJQUd0RHRCLEVBQUF5QixFQUFBLElBR0F6QixJQUFBMEIsRUFBQSwyREMrUEEsU0FBU0MsSUFFTEMsRUFBRSw0QkFBNEJDLEtBQUtDLE9BQU9DLFNBQVNDLEtBQU8sNkJBQzFESixFQUFFLCtCQUErQkMsS0FBS0MsT0FBT0MsU0FBU0MsS0FBTyxnQ0FDN0RKLEVBQUUsbUJBQW1CQyxLQUFLQyxPQUFPQyxTQUFTQyxLQUFPLG9CQUNqREosRUFBRSwwQkFBMEJDLEtBQUtDLE9BQU9DLFNBQVNDLEtBQU8sMkJBQ3hESixFQUFFLGlCQUFp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SCxFQUFFYyxNQUFNRSxNQUN0QmtHLFdBQVdELE9BV25CL0csT0FBT2lILGFBQWUsU0FBU0MsR0FFM0JwSCxFQUFFb0gsR0FBVXRGLEtBQUssTUFHckI1QixPQUFPbUgsU0FBVyxTQUFTQyxHQUN2QixJQUFJakIsRUFBUyxLQUNUa0IsS0FRSixPQVBBcEgsU0FBU3FILE9BQ0pDLE9BQU8sR0FDUHRDLE1BQU0sS0FDTnVDLFFBQVEsU0FBVXJELElBQ25Ca0QsRUFBTWxELEVBQUtjLE1BQU0sTUFDVCxLQUFPbUMsSUFBZWpCLEVBQVNzQixtQkFBbUJKLEVBQUksT0FFM0RsQixHQUlYbkcsT0FBTzBILFVBQVksU0FBU3RFLEdBQ3hCLElBQUl1RSxLQUNIQyxFQUFTZixTQUFTZ0IsY0FBYyxLQUNwQ0QsRUFBTzFILEtBQU9rRCxFQUdkLElBRkEsSUFDSTBFLEVBRFFGLEVBQU9OLE9BQU9TLFVBQVUsR0FDbkI5QyxNQUFNLEtBQ2QzRyxFQUFJLEVBQUdBLEVBQUl3SixFQUFLRSxPQUFRMUosSUFBSyxDQUNyQyxJQUFJMkosRUFBT0gsRUFBS3hKLEdBQUcyRyxNQUFNLEtBQ3pCMEMsRUFBT00sRUFBSyxJQUFNUixtQkFBbUJRLEVBQUssSUFFM0MsT0FBT04iLCJmaWxlIjoiL2pzL3NjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNjEpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGY3MTE0NzQxMWQ1MjUzNmM4MGI1IiwiLy8gTG9hZGVyc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiQoXCIubG9hZGVyLW9uLWNoYW5nZVwiKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnI2Z1bGwtbG9hZGVyJykucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn0pO1xyXG5cclxuJChcIi5sb2FkZXItb24tc3VibWl0XCIpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcjZnVsbC1sb2FkZXInKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufSk7XHJcblxyXG4kKCcuZG9udC1zdWJtaXQtb24tZW50ZXIsIC5kc29uJykua2V5cHJlc3MoZnVuY3Rpb24gKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiRU5URVJcIik7XHJcbiAgICBpZiAoZS53aGljaCA9PSAxMykgcmV0dXJuIGZhbHNlO1xyXG4gICAgaWYgKGUud2hpY2ggPT0gMTMpIGUucHJldmVudERlZmF1bHQoKTtcclxufSk7XHJcblxyXG4vLyBNb2RpZnkgY2FydCBpdGVtIHF1YW50aXR5IFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiQoJy5JbnB1dEJ0blEnKS5vbignY2hhbmdlIGtleXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gIE9yaWdpbmFsIEFydGljbGUgUHJpY2VcclxuICAgIGxldCB2YWx1ZSA9ICQodGhpcykuc2libGluZ3MoJy5BcnRpY2xlUHJpY2UnKS52YWwoKTtcclxuICAgIC8vIFF1YW50aXR5XHJcbiAgICBsZXQgcXVhbnRpdHkgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgLy8gTmVyIFZhbHVlXHJcbiAgICBsZXQgbmV3VmFsdWUgPSAodmFsdWUgKiBxdWFudGl0eSk7XHJcbiAgICAvLyBOZXcgUHJpY2UgVGFyZ2V0XHJcbiAgICBsZXQgbmV3UHJpY2VUYXJnZXQgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnNpYmxpbmdzKCcuVG90YWxJdGVtUHJpY2UnKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyh2YWx1ZSwgcXVhbnRpdHksIG5ld1ZhbHVlKTtcclxuICAgIG1vZGlmeUNhcnRJdGVtUSgkKHRoaXMpLCBuZXdQcmljZVRhcmdldCwgbmV3VmFsdWUpO1xyXG59KVxyXG5cclxuZnVuY3Rpb24gbW9kaWZ5Q2FydEl0ZW1RKGUsIG5ld1ByaWNlVGFyZ2V0LCBuZXdWYWx1ZSkge1xyXG4gICAgZS5zaWJsaW5ncygnLklucHV0QnRuUScpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuICAgIG5ld1ByaWNlVGFyZ2V0Lmh0bWwoJyQgJyArIG5ld1ZhbHVlKTtcclxufVxyXG5cclxuXHJcbiQoJyNNYWluT3ZlcmxheScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICBjaGVja291dFNpZGViYXIoJ2hpZGUnKTtcclxufSlcclxuLy8gQ2hlY2tvdXQgc2lkZWJhclxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHRcdFxyXG53aW5kb3cuY2hlY2tvdXRTaWRlYmFyID0gZnVuY3Rpb24gKHN0YXRlKSB7XHJcblxyXG4gICAgY29uc3Qgc2lkZWJhciA9ICQoJy5DaGVja291dENhcnQnKTtcclxuICAgIGNvbnN0IHdyYXBwZXIgPSAkKCcubWFpbi13cmFwcGVyJyk7XHJcblxyXG4gICAgY29uc3Qgc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzaWRlYmFyLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB3cmFwcGVyLmFkZENsYXNzKCdhbGxvdy1zaWRlYmFyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzaWRlYmFyLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB3cmFwcGVyLnJlbW92ZUNsYXNzKCdhbGxvdy1zaWRlYmFyJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChzdGF0ZSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAoc2lkZWJhci5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgaGlkZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHN0YXRlID09ICdzaG93Jykge1xyXG4gICAgICAgIHNob3coKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9IGVsc2UgaWYgKHN0YXRlID09ICdoaWRlJykge1xyXG4gICAgICAgIGhpZGUoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxud2luZG93Lm9wZW5DaGVja291dERlc2t0b3AgPSBmdW5jdGlvbigpXHJcbntcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDc2OCkge1xyXG4gICAgICAgIGNoZWNrb3V0U2lkZWJhcignc2hvdycpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5cclxuLy8gJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoZXZlbnQpIHtcclxuLy8gICAgIHZhciBzY3JvbGwgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcblxyXG4vLyAgICAgaWYgKHNjcm9sbCA+IDEyNSkge1xyXG4vLyAgICAgICAgICQoJy5jaGVja291dC1jYXJ0JykuYWRkQ2xhc3MoJ3Njcm9sbGVkJyk7XHJcbi8vICAgICB9XHJcbi8vICAgICBlbHNlIHtcclxuLy8gICAgICAgICAkKCcuY2hlY2tvdXQtY2FydCcpLnJlbW92ZUNsYXNzKCdzY3JvbGxlZCcpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcblxyXG4vLyBTaWRlYmFyIGNoZWNrb3V0IGFic29sdXRlXHJcbi8vIHdpbmRvdy5jaGVja291dFNpZGViYXIgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XHJcbi8vICAgICBpZiAoYWN0aW9uID09ICdvcGVuJykge1xyXG4vLyAgICAgICAgICQoJyNTaWRlQ29udGFpbmVyJykudG9nZ2xlKDEwMCk7XHJcbi8vICAgICAgICAgJCgnI01haW5PdmVybGF5JykuZmFkZUluKDEwMCk7XHJcbi8vICAgICB9XHJcbi8vICAgICBpZiAoYWN0aW9uID09ICdjbG9zZScpIHtcclxuLy8gICAgICAgICAkKCcjU2lkZUNvbnRhaW5lcicpLnRvZ2dsZSgxMDApO1xyXG4vLyAgICAgICAgICQoJyNNYWluT3ZlcmxheScpLmZhZGVPdXQoMTAwKTtcclxuLy8gICAgIH1cclxuLy8gfVxyXG5cclxuLy8gJCgnI01haW5PdmVybGF5JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgY2hlY2tvdXRTaWRlYmFyKFwiY2xvc2VcIik7XHJcbi8vIH0pO1xyXG5cclxud2luZG93Lm9wZW5GaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgZmlsdGVycyA9ICQoJyNTZWFyY2hGaWx0ZXJzJyk7XHJcbiAgICBjb25zdCB0cmlnZ2VyID0gJCgnI1NlYXJjaEZpbHRlcnNUcmlnZ2VyJyk7XHJcbiAgICBpZihmaWx0ZXJzLmhhc0NsYXNzKCdhY3RpdmUnKSlcclxuICAgIHtcclxuICAgICAgICBmaWx0ZXJzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB0cmlnZ2VyLnNob3coKTtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICBmaWx0ZXJzLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB0cmlnZ2VyLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIEhpZGUgYWxlcnRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4vLyAgICAgJCgnLmFsZXJ0JykuaGlkZSgxMDApO1xyXG4vLyB9LCA0MDAwKTtcclxuXHJcblxyXG4vLyBDYXJ0IFJlc3VtZW5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gd2luZG93LnNob3dDYXJ0UmVzdW1lTW9iaWxlID0gZnVuY3Rpb24oKVxyXG4vLyB7XHJcbi8vICAgICAkKCcuY2FydC1yZXN1bWUtZGV0YWlscy1tb2JpbGUnKS50b2dnbGVDbGFzcygnSGlkZGVuJywgMTAwKTtcclxuLy8gfVxyXG5cclxuLypcclxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnwgQ0FSVFxyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuKi9cclxuXHJcblxyXG53aW5kb3cuc3VtQWxsSXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBzdW0gPSAwO1xyXG4gICAgJCgnLlRvdGFsSXRlbVByaWNlJykuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICBzdW0gKz0gcGFyc2VJbnQoJCh0aGlzKS5odG1sKCkpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuU3ViVG90YWwnKS5odG1sKHN1bSk7XHJcbn1cclxuXHJcblxyXG4vLyBTdW0gZGl2cyB0ZXh0XHJcbndpbmRvdy5zdW1EaXZzID0gZnVuY3Rpb24gKG9yaWdpbnMsIHRhcmdldCkge1xyXG4gICAgbGV0IHN1bSA9IDA7XHJcbiAgICBvcmlnaW5zLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN1bSArPSBwYXJzZUZsb2F0KCQodGhpcykudGV4dCgpKTtcclxuICAgIH0pO1xyXG4gICAgdGFyZ2V0LnRleHQoc3VtKTtcclxufVxyXG5cclxuXHJcbi8vIENoZWNrIHByb2R1Y3QgdmFyaWFudCBzdG9ja1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbndpbmRvdy5jaGVja1ZhcmlhbnRTdG9jayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGZvcm0gPSAkKCcjQWRkVG9DYXJ0Rm9ybScpO1xyXG4gICAgbGV0IGRhdGEgPSBmb3JtLnNlcmlhbGl6ZSgpO1xyXG4gICAgbGV0IGFsbG93U3VibWl0ID0gZmFsc2U7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IGZvcm0uZGF0YSgncm91dGUnKSxcclxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgYXN5bmM6IGZhbHNlLFxyXG4gICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIGlmKGRhdGEucmVzcG9uc2UgPT0gdHJ1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5tZXNzYWdlID09ICcwJylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5BdmFpbGFibGVTdG9jaycpLmh0bWwoXCJObyBoYXkgc3RvY2sgZGlzcG9uaWJsZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI0FkZFRvQ2FydEZvcm1CdG4nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuQXZhaWxhYmxlU3RvY2snKS5odG1sKFwiU3RvY2sgZGlzcG9uaWJsZTogXCIgKyBkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjQWRkVG9DYXJ0Rm9ybUJ0bicpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1N1Ym1pdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRW50cm8gZW4gU1VDQ0VTU1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKCcjTWF4UXVhbnRpdHknKS5wcm9wKFwibWF4XCIsIGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAkKCcuQXZhaWxhYmxlU3RvY2snKS5odG1sKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAkKCcjQWRkVG9DYXJ0Rm9ybUJ0bicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRW50cm8gZW4gZXJyb3IgMVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICQoJyNFcnJvcicpLmh0bWwoZGF0YS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgYWxsb3dTdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRW50cm8gZW4gZXJyb3IgMlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBhbGxvd1N1Ym1pdDtcclxufVxyXG5cclxuLy8gU2V0IGNhcnQgaXRlbXMgSlNPTlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbndpbmRvdy5zZXRJdGVtc0RhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpdGVtRGF0YSA9IFtdO1xyXG5cclxuICAgICQoJy5JdGVtLURhdGEnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICAgICAgbGV0IHByaWNlID0gJCh0aGlzKS5kYXRhKCdwcmljZScpO1xyXG4gICAgICAgIGxldCB2YXJpYW50X2lkID0gJCh0aGlzKS5kYXRhKCd2YXJpYW50Jyk7XHJcbiAgICAgICAgbGV0IHF1YW50aXR5ID0gJCh0aGlzKS52YWwoKTtcclxuXHJcbiAgICAgICAgaXRlbSA9IHt9XHJcbiAgICAgICAgaXRlbVsnaWQnXSA9IGlkO1xyXG4gICAgICAgIGl0ZW1bJ3ZhcmlhbnRfaWQnXSA9IHZhcmlhbnRfaWQ7XHJcbiAgICAgICAgaXRlbVsncHJpY2UnXSA9IHByaWNlO1xyXG4gICAgICAgIGl0ZW1bJ3F1YW50aXR5J10gPSBxdWFudGl0eTtcclxuICAgICAgICAvLyBVcGRhdGUgZGlzcGxheSB0b3RhbCBpdGVtIHByaWNlXHJcbiAgICAgICAgdG90YWwgPSBwcmljZSAqIHF1YW50aXR5O1xyXG4gICAgICAgICQoJy4nICsgaWQgKyAnLVRvdGFsSXRlbVByaWNlJykuaHRtbCh0b3RhbCk7XHJcblxyXG4gICAgICAgIGl0ZW1EYXRhLnB1c2goaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIC8vIFVwZGF0ZSBUb3RhbFxyXG4gICAgY29uc29sZS5pbmZvKGl0ZW1EYXRhKTtcclxuICAgIHN1bUFsbEl0ZW1zKCk7XHJcbiAgICAkKCcjSXRlbXMtRGF0YScpLnZhbChpdGVtRGF0YSk7XHJcbn1cclxuXHJcbi8vIEFkZCBwcm9kdWN0IHRvIGNhcnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG53aW5kb3cuYWRkVG9DYXJ0ID0gZnVuY3Rpb24gKHJvdXRlLCBkYXRhKSB7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogcm91dGUsXHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdKU09OJyxcclxuICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICQoJy5BdmFpbGFibGVTdG9jaycpLmh0bWwoXCJTdG9jayBkaXNwb25pYmxlOiBcIiArIGRhdGEubmV3U3RvY2spO1xyXG4gICAgICAgICAgICAgICAgdG9hc3Rfc3VjY2VzcygnT2shJywgZGF0YS5tZXNzYWdlLCAnYm90dG9tQ2VudGVyJywgJycsIDI1MDApO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG90YWxzKCk7XHJcbiAgICAgICAgICAgICAgICBzZXRJdGVtc0RhdGEoKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEl0ZW1zRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN1bUFsbEl0ZW1zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3BlbkNoZWNrb3V0RGVza3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnJlc3BvbnNlID09ICd3YXJuaW5nJykge1xyXG4gICAgICAgICAgICAgICAgdG9hc3Rfc3VjY2VzcygnVXBzIScsIGRhdGEubWVzc2FnZSwgJ2JvdHRvbUNlbnRlcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgZW4gYWRkdG9DYXJ0KClcIik7XHJcbiAgICAgICAgICAgIC8vIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuIFxyXG5cclxuLy8gUmVtb3ZlIHByb2R1Y3QgZnJvbSBjYXJ0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxud2luZG93LnJlbW92ZUZyb21DYXJ0ID0gZnVuY3Rpb24gKHJvdXRlLCBjYXJ0SXRlbUlkLCB2YXJpYW50SWQsIHF1YW50aXR5LCBkaXYsIGFjdGlvbikge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBjYXJ0SXRlbUlkOiBjYXJ0SXRlbUlkLCB2YXJpYW50SWQ6IHZhcmlhbnRJZCwgcXVhbnRpdHk6IHF1YW50aXR5LCBhY3Rpb246IGFjdGlvbiwgbWV0aG9kOiAnYWpheCcgfSxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSAnY2FydC1yZW1vdmVkJykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbHMoKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiP1wiKVswXTtcclxuICAgICAgICAgICAgICAgIHNldEl0ZW1zRGF0YSgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucmVzcG9uc2UgPT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAkKGRpdikuaGlkZSgxMDApO1xyXG4gICAgICAgICAgICAgICAgJChkaXYpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVG90YWxzKCk7XHJcbiAgICAgICAgICAgICAgICBzZXRJdGVtc0RhdGEoKTtcclxuICAgICAgICAgICAgfSAgIFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgZW4gcmVtb3ZlRnJvbUNhcnQoKVwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIC8vIElmIGFuIGVycm9yIHBvcHMgd2hlbiBkZXN0cm95aW5nIGFuIGl0ZW0sIHJlbG9hZCBhbmQgcHJldmVudCBiYWQgbWFnaWNcclxuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVRvdGFscygpIHtcclxuICAgIC8vIExpdmUgUmVsb2FkaW5nIHN0dWZmXHJcbiAgICAkKFwiI1NpZGVDb250YWluZXJJdGVtc0ZpeGVkXCIpLmxvYWQod2luZG93LmxvY2F0aW9uLmhyZWYgKyBcIiAjU2lkZUNvbnRhaW5lckl0ZW1zRml4ZWRcIik7XHJcbiAgICAkKFwiI1NpZGVDb250YWluZXJJdGVtc0Zsb2F0aW5nXCIpLmxvYWQod2luZG93LmxvY2F0aW9uLmhyZWYgKyBcIiAjU2lkZUNvbnRhaW5lckl0ZW1zRmxvYXRpbmdcIik7XHJcbiAgICAkKFwiLlRvdGFsQ2FydEl0ZW1zXCIpLmxvYWQod2luZG93LmxvY2F0aW9uLmhyZWYgKyBcIiAuVG90YWxDYXJ0SXRlbXNcIik7XHJcbiAgICAkKFwiLlRvdGFsQ2FydEl0ZW1zU2lkZWJhclwiKS5sb2FkKHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgXCIgLlRvdGFsQ2FydEl0ZW1zU2lkZWJhclwiKTtcclxuICAgICQoXCIuQ2FydFN1YlRvdGFsXCIpLmxvYWQod2luZG93LmxvY2F0aW9uLmhyZWYgKyBcIiAuQ2FydFN1YlRvdGFsXCIpO1xyXG4gICAgJChcIi5BdmFpbGFibGVTdG9ja1wiKS5sb2FkKHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgXCIgLkF2YWlsYWJsZVN0b2NrXCIpO1xyXG59XHJcblxyXG4vLyBTdWJtaXQgQ2FydCBGb3JtIHRvIENoZWNrb3V0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxud2luZG93LnN1Ym1pdENhcnRUb0NoZWNrb3V0ID0gZnVuY3Rpb24gKHJvdXRlLCB0YXJnZXQsIGRhdGEsIGFjdGlvbikge1xyXG4gICAgLy9jb25zb2xlLmxvZyhcIlJ1dGE6IFwiICsgcm91dGUgKyBcIiBUYXJnZXQ6IFwiICsgdGFyZ2V0ICsgXCIgRGF0YTogXCIgKyBkYXRhICsgXCJBY3Rpb246IFwiKyBhY3Rpb24pO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBkYXRhLCBhY3Rpb246IGFjdGlvbiB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09ICdyZWxvYWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBwYWdlLCBkZWxldGUgcGFyYW1ldHRlcnMgYW5kIG9wZW4gY2hlY2tvdXQgc2lkZWJhclxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiP1wiKVswXSArIFwiP2NoZWNrb3V0LW9uXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGVuIHN1Ym1pdEZvcm0nKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdG9hc3RfZXJyb3IoJycsIGRhdGEubWVzc2FnZSwgJ2JvdHRvbUNlbnRlcicsICcnKTtcclxuICAgICAgICAgICAgICAgICQoJy5TaWRlQ29udGFpbmVyRXJyb3InKS5odG1sKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAvLyAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBlbiBzdWJtaXRGb3JtKClcIik7XHJcbiAgICAgICAgICAgIC8vIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgLy8gbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIFZhbGlkYXRlIGFuZCBzZXQgY291cG9uXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxud2luZG93LnZhbGlkYXRlQW5kU2V0Q291cG9uID0gZnVuY3Rpb24gKHJvdXRlLCBjb2RlLCBjYXJ0aWQpIHtcclxuICAgIGxldCBjb3Vwb25EaXYgPSAkKCcjQ291cG9uRGl2Jyk7XHJcbiAgICBsZXQgY291cG9uU2V0ID0gJCgnI1NldHRlZENvdXBvbicpO1xyXG4gICAgXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogcm91dGUsXHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdKU09OJyxcclxuICAgICAgICBkYXRhOiB7IGNvZGU6IGNvZGUsIGNhcnRpZDogY2FydGlkIH0sXHJcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbXByb2JhbmRvIGN1cMOzbi4uLlwiKTtcclxuICAgICAgICAgICAgJCgnLkNvdXBvbkxvYWRlcicpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICQoJyNDb3Vwb25WYWxpZGF0aW9uTWVzc2FnZScpLmh0bWwoXCJDdXDDs24gYWNlcHRhZG8gIVwiKTtcclxuICAgICAgICAgICAgICAgIGNvdXBvbkRpdi5oaWRlKDIwMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdXBvblNldC5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucmVzcG9uc2UgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgJCgnI0NvdXBvblZhbGlkYXRpb25NZXNzYWdlJykuaHRtbChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICQoJyNDb3Vwb25WYWxpZGF0aW9uTWVzc2FnZScpLmh0bWwoZGF0YS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJy5Db3Vwb25Mb2FkZXInKS5hZGRDbGFzcygnSGlkZGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIEZhdnNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG53aW5kb3cuYWRkQXJ0aWNsZVRvRmF2cyA9IGZ1bmN0aW9uIChyb3V0ZSwgZmF2aWQsIGFydGljbGVpZCwgYWN0aW9uLCBkaXNwbGF5QnV0dG9uKSB7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogcm91dGUsXHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdKU09OJyxcclxuICAgICAgICBkYXRhOiB7IGZhdl9pZDogZmF2aWQsIGFydGljbGVfaWQ6IGFydGljbGVpZCB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlID09IHRydWUgJiYgZGF0YS5yZXN1bHQgPT0gJ2FkZGVkJykge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZWxvYWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2hvdyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlCdXR0b24ucmVtb3ZlQ2xhc3MoJ2Zhdi1pY29uLW5vZmF2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlCdXR0b24uYWRkQ2xhc3MoJ2Zhdi1pY29uLWlzZmF2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0X3N1Y2Nlc3MoJ09rIScsICdQcm9kdWN0byBhZ3JlZ2FkbyBhIGZhdm9yaXRvcycsICdib3R0b21DZW50ZXInLCAnJywgMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWN0dWFsaXphZG8gLSBTaW4gQWNjacOzbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBoYXkgYWNjacOzbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnJlc3BvbnNlID09IHRydWUgJiYgZGF0YS5yZXN1bHQgPT0gJ3JlbW92ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5QnV0dG9uLmFkZENsYXNzKCdmYXYtaWNvbi1ub2ZhdicpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheUJ1dHRvbi5yZW1vdmVDbGFzcygnZmF2LWljb24taXNmYXYnKTtcclxuICAgICAgICAgICAgICAgIHRvYXN0X3N1Y2Nlc3MoJ09rIScsICdQcm9kdWN0byBlbGltaW5hZG8gZGUgZmF2b3JpdG9zJywgJ2JvdHRvbUNlbnRlcicsICcnLCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRGYXZzVG90YWxJY29uKGRhdGEuZmF2c0NvdW50KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEZhdnNUb3RhbEljb24oZmF2cykge1xyXG4gICAgaWYgKGZhdnMgPiAwKSB7XHJcbiAgICAgICAgJCgnLkZhdk1haW5JY29uJykucmVtb3ZlQ2xhc3MoJ2ZhcicpO1xyXG4gICAgICAgICQoJy5GYXZNYWluSWNvbicpLmFkZENsYXNzKCdmYScpO1xyXG4gICAgfSBlbHNlIGlmIChmYXZzID09IDApIHtcclxuICAgICAgICAkKCcuRmF2TWFpbkljb24nKS5yZW1vdmVDbGFzcygnZmEnKTtcclxuICAgICAgICAkKCcuRmF2TWFpbkljb24nKS5hZGRDbGFzcygnZmFyJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJy5GYXZNYWluSWNvbicpLnJlbW92ZUNsYXNzKCdmYScpO1xyXG4gICAgICAgICQoJy5GYXZNYWluSWNvbicpLnJlbW92ZUNsYXNzKCdmYXInKTtcclxuICAgICAgICAkKCcuRmF2TWFpbkljb24nKS5hZGRDbGFzcygnZmEnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGVuIHNldEZhdnNUb3RhbEljb24oKVwiKTtcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LnJlbW92ZUFydGljbGVGcm9tRmF2cyA9IGZ1bmN0aW9uIChyb3V0ZSwgZmF2aWQsIGFjdGlvbikge1xyXG4gICAgdmFyIGRvYWN0aW9uID0gYWN0aW9uO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBmYXZfaWQ6IGZhdmlkIH0sXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkb2FjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRvYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVsb2FkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9ICdyZWxvYWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdF9zdWNjZXNzKCdPayEnLCAnUHJvZHVjdG8gZWxpbWluYWRvIGRlIGZhdm9yaXRvcycsICdib3R0b21DZW50ZXInLCBhY3Rpb24sIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gaGF5IGFjY2nDs24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyQoJyNFcnJvcicpLmh0bWwoZGF0YS5tZXNzYWdlWydlcnJvckluZm8nXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxud2luZG93LnJlbW92ZUFsbEFydGljbGVzRnJvbUZhdnMgPSBmdW5jdGlvbiAocm91dGUsIGN1c3RvbWVyaWQsIGFjdGlvbikge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBjdXN0b21lcl9pZDogY3VzdG9tZXJpZCB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAvLyQoJyNFcnJvcicpLmh0bWwoZGF0YS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlbG9hZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gaGF5IGFjY2nDs24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjRXJyb3InKS5odG1sKGRhdGEubWVzc2FnZVsnZXJyb3JJbmZvJ10pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyQoJyNFcnJvcicpLmh0bWwoZGF0YS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnwgTE9HSU4gQU5EIFJFR0lTVEVSXHJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4qL1xyXG5cclxuJCgnI1Jlc2VsbGVyQm94JykuaGlkZSgpO1xyXG5cclxud2luZG93Lm9wZW5SZXNlbGxlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uKClcclxue1xyXG4gICAgJCgnI0lzUmVzZWxsZXJDaGVja2JveCcpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuICAgICQoJy5JZlJlc2VsbGVyRW5hYmxlJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAkKCcjUmVzZWxsZXJCb3gnKS5zaG93KDEwMCk7XHJcbiAgICAkKCcjUmVzZWxsZXJDVEEnKS5oaWRlKDApO1xyXG4gICAgJCgnLk5vcm1hQ2xpZW50VGl0bGUnKS5oaWRlKDApO1xyXG4gICAgJCgnLlJlc2VsbGVyVGl0bGUnKS5zaG93KDApO1xyXG59XHJcblxyXG5cclxud2luZG93LmNsb3NlUmVzZWxsZXJSZWdpc3RyYXRpb24gPSBmdW5jdGlvbigpXHJcbntcclxuICAgICQoJyNJc1Jlc2VsbGVyQ2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgJCgnLklmUmVzZWxsZXJFbmFibGUnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgJCgnI1Jlc2VsbGVyQm94JykuaGlkZSgwKTtcclxuICAgICQoJyNSZXNlbGxlckNUQScpLnNob3coMTAwKTtcclxuICAgICQoJy5Ob3JtYUNsaWVudFRpdGxlJykuc2hvdygwKTtcclxuICAgICQoJy5SZXNlbGxlclRpdGxlJykuaGlkZSgwKTtcclxufVxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgICQoJy5HZW9Qcm92U2VsZWN0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgbGV0IHByb3ZfaWQgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIGdldEdlb0xvY3MocHJvdl9pZCk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuLypcclxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnwgTUlYIEZVTkNUSU9OU1xyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuKi9cclxuXHJcbndpbmRvdy5jbG9zZUVsZW1lbnQgPSBmdW5jdGlvbihzZWxlY3Rvcilcclxue1xyXG4gICAgJChzZWxlY3RvcikuaGlkZSgxMDApO1xyXG59XHJcblxyXG53aW5kb3cuZ2V0UGFyYW0gPSBmdW5jdGlvbihwYXJhbWV0ZXJOYW1lKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICB0bXAgPSBbXTtcclxuICAgIGxvY2F0aW9uLnNlYXJjaFxyXG4gICAgICAgIC5zdWJzdHIoMSlcclxuICAgICAgICAuc3BsaXQoXCImXCIpXHJcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICB0bXAgPSBpdGVtLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICBpZiAodG1wWzBdID09PSBwYXJhbWV0ZXJOYW1lKSByZXN1bHQgPSBkZWNvZGVVUklDb21wb25lbnQodG1wWzFdKTtcclxuICAgICAgICB9KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcblxyXG53aW5kb3cuZ2V0UGFyYW1zID0gZnVuY3Rpb24odXJsKSB7XHJcbiAgICB2YXIgcGFyYW1zID0ge307XHJcblx0dmFyIHBhcnNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRwYXJzZXIuaHJlZiA9IHVybDtcclxuXHR2YXIgcXVlcnkgPSBwYXJzZXIuc2VhcmNoLnN1YnN0cmluZygxKTtcclxuXHR2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoJz0nKTtcclxuXHRcdHBhcmFtc1twYWlyWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcclxuXHR9XHJcblx0cmV0dXJuIHBhcmFtcztcclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vcmVzb3VyY2VzL2Fzc2V0cy9qcy9zdG9yZS9zY3JpcHRzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==