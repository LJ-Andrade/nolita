!function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=67)}({67:function(e,t,a){e.exports=a(68)},68:function(e,t){var a,i,n;$(".Select-Colors").chosen({placeholder_text_multiple:"Seleccione los colores",search_contains:!0,no_results_text:"No se ha encontrado el color"}),$(".Select-Tags").chosen({placeholder_text_multiple:"Seleccione las etiquetas",search_contains:!0,no_results_text:"No se ha encontrado la etiqueta"}),$(".Select-Brand").chosen({placeholder_text_single:"Seleccione la marca",search_contains:!0,no_results_text:"No se ha encontrado la marca"}),$(".Select-Atribute").chosen({placeholder_text_multiple:"Seleccionar",search_contains:!0,no_results_text:"No se ha encontrado"}),$(".Select-Category").chosen({placeholder_text_single:"Seleccione una categoría"}),$(".Select-Chosen").chosen({placeholder_text_single:"Seleccione una categoría"}),$(".SlugInput").keyup(function(){var e=$(this).val();e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/[&\/\\#,¡!´#+()$~%.'":*?<>{}]/g,"")).replace(/\s+/g,"-")).replace("ñ","n")).replace("á","a")).replace("é","e")).replace("í","i")).replace("ó","o")).replace("ú","u"),$(".SlugInput").val(e)}),$("#TitleInput").keyup(function(e){$(this).val();var t=$(this).val();t=(t=(t=(t=(t=(t=(t=(t=(t=t.toLowerCase()).replace(/[&\/\\#,¡!´#+()$~%.'":*?<>{}]/g,"")).replace(/\s+/g,"-")).replace("ñ","n")).replace("á","a")).replace("é","e")).replace("í","i")).replace("ó","o")).replace("ú","u"),$(".SlugInput").val(t)}),$(".ShowNotesTextArea").click(function(){var e=$(".NotesTextArea");e.hasClass("Hidden")?e.removeClass("Hidden"):e.addClass("Hidden")}),$(".AddAnotherAddressBtn").click(function(){$(".AnotherAddress").append("<input class='form-control' placeholder='Ingrese otro teléfono' name='deliveryaddress[]' type='text' style='margin-top:5px'>"),$(".AnotherLoc").append("<input class='form-control' placeholder='Ingrese otro teléfono' name='deliveryaddress[]' type='text' style='margin-top:5px'>")}),window.checkVariants=function(){var e=[];return $(".Combination").each(function(){e.push($(this).data("combination"))}),e},window.makeVariants=function(){var e=$("#ArticleVariants"),t=$(".VariantSize"),a=$(".VariantColor"),i=[],n=[];$.each(t,function(){$(this).is(":checked")&&(size={},size.id=$(this).val(),size.name=$(this).data("name"),n.push(size))}),$.each(a,function(){$(this).is(":checked")&&(color={},color.id=$(this).val(),color.name=$(this).data("name"),i.push(color))});var o=[];$.each(i,function(e,t){$.each(n,function(e,a){var i={};i.combination=t.name+"/"+a.name,i.color=t.name,i.color_id=t.id,i.size=a.name,i.size_id=a.id,o.push(i)})}),console.log(o);var l=checkVariants();$.each(o,function(t,a){if(!l.includes(a.combination)){var i="<tr><td class='Combination' data-combination="+a.color+"/"+a.size+">"+a.color+"/"+a.size+"</td><input name='variants["+a.combination+"][color]' value="+a.color_id+" type='hidden' class='form-control'><input name='variants["+a.combination+"][size]' value="+a.size_id+" type='hidden' class='form-control'><td><input name='variants["+a.combination+"][stock]' value='10' type='number' min='0' class='form-control'></td><td><a class='RemoveDynRow delete-icon'><i class='delete-icon fa fa-trash'></i></a></td></tr>";e.append(i)}}),$("#HeaderVariants").removeClass("Hidden")},$("#ArticleVariants").on("click",".RemoveDynRow",function(e){e.preventDefault(),$(this).parents("tr").remove()}),$(".RemoveVariant").on("click",function(){console.log($(this).data("rowid")),deleteDBItem($(this).data("route"),$(this).data("id"),$(this).data("rowid"))}),window.deleteDBItem=function(e,t,a){$.ajax({url:e,method:"POST",dataType:"JSON",data:{id:t},beforeSend:function(){},success:function(e){if(console.log(e),1!=e.success)return alert_error("Ups!","Ha ocurrido un error al eliminar la variante"),console.log(e),console.log(e.message),!1;$("#"+a).remove()},error:function(e){$("#Error").html(e.responseText),console.log(e),console.log(e.message)}})},$("#Single_Image").fileuploader({extensions:["jpg","jpeg","png","gif"],limit:1,addMore:!1,fileMaxSize:2,captions:{button:function(e){return"Seleccionar "+(e.limit,"Imágen")},feedback:function(e){return"Agregar imágenes..."},feedback2:function(e){return e.length+" "+(e.length>1?" imágenes seleccionadas":" imágen seleccionada")},drop:"Arrastre las imágenes aquí",paste:'<div class="fileuploader-pending-loader"><div class="left-half" style="animation-duration: ${ms}s"></div><div class="spinner" style="animation-duration: ${ms}s"></div><div class="right-half" style="animation-duration: ${ms}s"></div></div> Pasting a file, click here to cancel.',removeConfirmation:"Eliminar?",errors:{filesLimit:"Solo es posible subir ${limit} imágen.",filesType:"Solo se aceptan los formatos: ${extensions}.",fileSize:"La imágen pesa mucho! Elija una de ${fileMaxSize}MB como máximo.",fileName:"La imágen con ese nombre ya ha sido elegida",folderUpload:"No está permitido subir carpetas."},dialogs:{alert:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return alert(e)}),confirm:function(e,t){"confirm(text) ? callback() : null;"}}}}),$("#Multi_Images").fileuploader({extensions:["jpg","jpeg","png","gif","bmp"],changeInput:" ",theme:"thumbnails",enableApi:!0,addMore:!0,dragDrop:{container:null,onDragEnter:function(e,t,a,i,n){},onDragLeave:function(e,t,a,i,n){},onDrop:function(e,t,a,i,n){}},sorter:{selectorExclude:null,placeholder:null,scrollContainer:window,onSort:function(e,t,a,i,n){$("#FeaturedImageName").val(e[0].name)}},thumbnails:(a={onItemShow:function(e){e.html.find(".fileuploader-action-remove").before('<a class="fileuploader-action fileuploader-action-sort fas fa-sort" title="Sort"><i></i></a>')},box:'<div class="fileuploader-items"><ul class="fileuploader-items-list"><li class="fileuploader-thumbnails-input"><div class="fileuploader-thumbnails-input-inner">+</div></li></ul></div>',item:'<li class="fileuploader-item"><div class="fileuploader-item-inner"><div class="thumbnail-holder">${image}</div><div class="actions-holder"><a class="fileuploader-custom-action fileuploader-action-sort" title="Ordenar"><i class="fas fa-arrows-alt"></i></a> <a class="fileuploader-custom-action fileuploader-action-remove" title="Eliminar">X</a> <span class="fileuploader-action-popup"></span></div><div class="progress-holder">${progressBar}</div></div></li>',startImageRenderer:!0,canvasImage:!1,_selectors:{list:".fileuploader-items-list",item:".fileuploader-item",start:".fileuploader-action-start",retry:".fileuploader-action-retry",sorter:".fileuploader-action-sort",remove:".fileuploader-action-remove"}},i="onItemShow",n=function(e,t,a,i,n){var o=t.find(".fileuploader-thumbnails-input"),l=$.fileuploader.getInstance(n.get(0));o.insertAfter(e.html)[l.getOptions().limit&&l.getChoosedFiles().length>=l.getOptions().limit?"hide":"show"](),"image"==e.format&&e.html.find(".fileuploader-item-icon").hide()},i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a),afterRender:function(e,t,a,i){var n=e.find(".fileuploader-thumbnails-input"),o=$.fileuploader.getInstance(i.get(0));n.on("click",function(){o.open()})},onRemove:function(e,t,a,i,n){var o=t.find(".fileuploader-thumbnails-input"),l=$.fileuploader.getInstance(n.get(0));l.getOptions().limit&&l.getChoosedFiles().length-1<l.getOptions().limit&&o.show()}}),$(".Display-Input-Modificable").click(function(){$(this).removeClass("display-input-disabled")}),$("body").on("click","[data-editable]",function(){var e=$(this),t=$("<input/>").val(e.text());e.replaceWith(t);t.one("blur",function(){var e=$("<p data-editable />").text(t.val());t.replaceWith(e)}).focus()})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOWYzMDM4MzYyYTU5OWUwZGUyOTEiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9qcy92YWRtaW4tZm9ybXMuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIiQiLCJjaG9zZW4iLCJwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlIiwic2VhcmNoX2NvbnRhaW5zIiwibm9fcmVzdWx0c190ZXh0IiwicGxhY2Vob2xkZXJfdGV4dF9zaW5nbGUiLCJrZXl1cCIsIlRleHQiLCJ0aGlzIiwidmFsIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZXZlbnQiLCJjbGljayIsIm5vdGVzIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiYXBwZW5kIiwid2luZG93IiwiY2hlY2tWYXJpYW50cyIsImV4aXN0aW5nQ29tYmluYXRpb25zIiwiZWFjaCIsInB1c2giLCJkYXRhIiwibWFrZVZhcmlhbnRzIiwidmFyaWFudHNDb250YWluZXIiLCJ2YXJpYW50U2l6ZSIsInZhcmlhbnRDb2xvciIsImNvbG9ycyIsInNpemVzIiwiaXMiLCJzaXplIiwiY29sb3IiLCJjb21iaW5hdGlvbnMiLCJpbmRleCIsIml0ZW0iLCJjb25zb2xlIiwibG9nIiwidmFsdWUiLCJpbmNsdWRlcyIsInZhcmlhbnRSb3ciLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmVudHMiLCJyZW1vdmUiLCJkZWxldGVEQkl0ZW0iLCJyb3V0ZSIsImlkIiwicm93aWQiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YVR5cGUiLCJiZWZvcmVTZW5kIiwic3VjY2VzcyIsImFsZXJ0X2Vycm9yIiwibWVzc2FnZSIsImVycm9yIiwiaHRtbCIsInJlc3BvbnNlVGV4dCIsImZpbGV1cGxvYWRlciIsImV4dGVuc2lvbnMiLCJsaW1pdCIsImFkZE1vcmUiLCJmaWxlTWF4U2l6ZSIsImNhcHRpb25zIiwiYnV0dG9uIiwib3B0aW9ucyIsImZlZWRiYWNrIiwiZmVlZGJhY2syIiwibGVuZ3RoIiwiZHJvcCIsInBhc3RlIiwicmVtb3ZlQ29uZmlybWF0aW9uIiwiZXJyb3JzIiwiZmlsZXNMaW1pdCIsImZpbGVzVHlwZSIsImZpbGVTaXplIiwiZmlsZU5hbWUiLCJmb2xkZXJVcGxvYWQiLCJkaWFsb2dzIiwiYWxlcnQiLCJfeCIsIl9hbGVydCIsImFwcGx5IiwiYXJndW1lbnRzIiwidG9TdHJpbmciLCJ0ZXh0IiwiY29uZmlybSIsImNhbGxiYWNrIiwiY2hhbmdlSW5wdXQiLCJ0aGVtZSIsImVuYWJsZUFwaSIsImRyYWdEcm9wIiwiY29udGFpbmVyIiwib25EcmFnRW50ZXIiLCJsaXN0RWwiLCJwYXJlbnRFbCIsIm5ld0lucHV0RWwiLCJpbnB1dEVsIiwib25EcmFnTGVhdmUiLCJvbkRyb3AiLCJzb3J0ZXIiLCJzZWxlY3RvckV4Y2x1ZGUiLCJwbGFjZWhvbGRlciIsInNjcm9sbENvbnRhaW5lciIsIm9uU29ydCIsImxpc3QiLCJ0aHVtYm5haWxzIiwib25JdGVtU2hvdyIsImZpbmQiLCJiZWZvcmUiLCJib3giLCJzdGFydEltYWdlUmVuZGVyZXIiLCJjYW52YXNJbWFnZSIsIl9zZWxlY3RvcnMiLCJzdGFydCIsInJldHJ5IiwicGx1c0lucHV0IiwiYXBpIiwiZ2V0SW5zdGFuY2UiLCJpbnNlcnRBZnRlciIsImdldE9wdGlvbnMiLCJnZXRDaG9vc2VkRmlsZXMiLCJmb3JtYXQiLCJoaWRlIiwiYWZ0ZXJSZW5kZXIiLCJvcGVuIiwib25SZW1vdmUiLCJzaG93IiwiJGVsIiwiJGlucHV0IiwicmVwbGFjZVdpdGgiLCJvbmUiLCIkcCIsImZvY3VzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFoQixHQUNBLElBQUFTLEVBQUFULEtBQUFpQixXQUNBLFdBQTJCLE9BQUFqQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBUSxFQUFBQyxHQUFzRCxPQUFBUixPQUFBUyxVQUFBQyxlQUFBakIsS0FBQWMsRUFBQUMsSUFHdER0QixFQUFBeUIsRUFBQSxJQUdBekIsSUFBQTBCLEVBQUEscUVDekRBQyxFQUFFLGtCQUFrQkMsUUFDaEJDLDBCQUEyQix5QkFFM0JDLGlCQUFpQixFQUNqQkMsZ0JBQWlCLGlDQU1yQkosRUFBRSxnQkFBZ0JDLFFBQ2RDLDBCQUEyQiwyQkFFM0JDLGlCQUFpQixFQUNqQkMsZ0JBQWlCLG9DQUdyQkosRUFBRSxpQkFBaUJDLFFBQ2ZJLHdCQUF5QixzQkFFekJGLGlCQUFpQixFQUNqQkMsZ0JBQWlCLGlDQUtyQkosRUFBRSxvQkFBb0JDLFFBQ2xCQywwQkFBMkIsY0FFM0JDLGlCQUFpQixFQUNqQkMsZ0JBQWlCLHdCQUdyQkosRUFBRSxvQkFBb0JDLFFBQ2xCSSx3QkFBeUIsNkJBRzdCTCxFQUFFLGtCQUFrQkMsUUFDaEJJLHdCQUF5Qiw2QkFRN0JMLEVBQUUsY0FBY00sTUFBTSxXQUNsQixJQUFJQyxFQUFXUCxFQUFFUSxNQUFNQyxNQVV2QkYsR0FEQUEsR0FEQUEsR0FEQUEsR0FEQUEsR0FEQUEsR0FEQUEsR0FEQUEsR0FGQUEsRUFBZUEsRUFBS0csZUFFQUMsUUFBUSxpQ0FBaUMsS0FDekNBLFFBRkwsT0FFb0IsTUFDZkEsUUFBUSxJQUFLLE1BQ2JBLFFBQVEsSUFBSyxNQUNiQSxRQUFRLElBQUssTUFDYkEsUUFBUSxJQUFLLE1BQ2JBLFFBQVEsSUFBSyxNQUNiQSxRQUFRLElBQUssS0FFakNYLEVBQUUsY0FBY1MsSUFBSUYsS0FLeEJQLEVBQUUsZUFBZU0sTUFBTSxTQUFTTSxHQUNsQlosRUFBRVEsTUFBTUMsTUFBbEIsSUFDSUYsRUFBV1AsRUFBRVEsTUFBTUMsTUFVdkJGLEdBREFBLEdBREFBLEdBREFBLEdBREFBLEdBREFBLEdBREFBLEdBREFBLEdBRkFBLEVBQWVBLEVBQUtHLGVBRUFDLFFBQVEsaUNBQWlDLEtBQ3pDQSxRQUZMLE9BRW9CLE1BQ2ZBLFFBQVEsSUFBSyxNQUNiQSxRQUFRLElBQUssTUFDYkEsUUFBUSxJQUFLLE1BQ2JBLFFBQVEsSUFBSyxNQUNiQSxRQUFRLElBQUssTUFDYkEsUUFBUSxJQUFLLEtBQ2pDWCxFQUFFLGNBQWNTLElBQUlGLEtBU3hCUCxFQUFFLHNCQUFzQmEsTUFBTSxXQUMxQixJQUFJQyxFQUFRZCxFQUFFLGtCQUNWYyxFQUFNQyxTQUFTLFVBQ2ZELEVBQU1FLFlBQVksVUFFbEJGLEVBQU1HLFNBQVMsWUFLdkJqQixFQUFFLHlCQUF5QmEsTUFBTSxXQUk3QmIsRUFBRSxtQkFBbUJrQixPQUhGLGdJQUluQmxCLEVBQUUsZUFBZWtCLE9BSEUsa0lBV3ZCQyxPQUFPQyxjQUFnQixXQUVuQixJQUFJQyxLQUlKLE9BSEFyQixFQUFFLGdCQUFnQnNCLEtBQUssV0FDbkJELEVBQXFCRSxLQUFLdkIsRUFBRVEsTUFBTWdCLEtBQUssa0JBRXBDSCxHQUlYRixPQUFPTSxhQUFlLFdBRWxCLElBQU1DLEVBQW9CMUIsRUFBRSxvQkFDdEIyQixFQUFjM0IsRUFBRSxnQkFDaEI0QixFQUFlNUIsRUFBRSxpQkFFbkI2QixLQUNBQyxLQUlKOUIsRUFBRXNCLEtBQUtLLEVBQWEsV0FDYjNCLEVBQUVRLE1BQU11QixHQUFHLGNBRVZDLFFBQ0FBLEtBQUEsR0FBYWhDLEVBQUVRLE1BQU1DLE1BQ3JCdUIsS0FBQSxLQUFlaEMsRUFBRVEsTUFBTWdCLEtBQUssUUFDNUJNLEVBQU1QLEtBQUtTLFNBSW5CaEMsRUFBRXNCLEtBQUtNLEVBQWMsV0FDZDVCLEVBQUVRLE1BQU11QixHQUFHLGNBRVZFLFNBQ0FBLE1BQUEsR0FBY2pDLEVBQUVRLE1BQU1DLE1BQ3RCd0IsTUFBQSxLQUFnQmpDLEVBQUVRLE1BQU1nQixLQUFLLFFBQzdCSyxFQUFPTixLQUFLVSxVQUlwQixJQUFJQyxLQUVKbEMsRUFBRXNCLEtBQUtPLEVBQVEsU0FBU00sRUFBT0YsR0FDM0JqQyxFQUFFc0IsS0FBS1EsRUFBUSxTQUFTSyxFQUFPSCxHQUMzQixJQUFJSSxLQUNKQSxFQUFBLFlBQXNCSCxFQUFBLEtBQWMsSUFBSUQsRUFBQSxLQUN4Q0ksRUFBQSxNQUFnQkgsRUFBQSxLQUNoQkcsRUFBQSxTQUFtQkgsRUFBQSxHQUNuQkcsRUFBQSxLQUFlSixFQUFBLEtBQ2ZJLEVBQUEsUUFBa0JKLEVBQUEsR0FDbEJFLEVBQWFYLEtBQUthLE9BSTFCQyxRQUFRQyxJQUFJSixHQUVaLElBQUliLEVBQXVCRCxnQkFFM0JwQixFQUFFc0IsS0FBS1ksRUFBYyxTQUFTQyxFQUFPSSxHQUdqQyxJQUFJbEIsRUFBcUJtQixTQUFTRCxFQUFBLGFBQ2xDLENBQ0ksSUFBSUUsRUFBYSxnREFDZ0RGLEVBQUEsTUFBZ0IsSUFBTUEsRUFBQSxLQUFnQixJQUFLQSxFQUFBLE1BQWdCLElBQU1BLEVBQUEsS0FBZ0IsOEJBQ3JHQSxFQUFBLFlBQXFCLG1CQUFvQkEsRUFBQSxTQUFtQiw2REFDNURBLEVBQUEsWUFBcUIsa0JBQW1CQSxFQUFBLFFBQWtCLGlFQUN0REEsRUFBQSxZQUFxQixxS0FHdEViLEVBQWtCUixPQUFPdUIsTUFHakN6QyxFQUFFLG1CQUFtQmdCLFlBQVksV0FLckNoQixFQUFFLG9CQUFvQjBDLEdBQUcsUUFBUyxnQkFBaUIsU0FBU0MsR0FDeERBLEVBQUVDLGlCQUNGNUMsRUFBRVEsTUFBTXFDLFFBQVEsTUFBTUMsV0FHMUI5QyxFQUFFLGtCQUFrQjBDLEdBQUcsUUFBUyxXQUM1QkwsUUFBUUMsSUFBSXRDLEVBQUVRLE1BQU1nQixLQUFLLFVBQ3pCdUIsYUFBYS9DLEVBQUVRLE1BQU1nQixLQUFLLFNBQVV4QixFQUFFUSxNQUFNZ0IsS0FBSyxNQUFPeEIsRUFBRVEsTUFBTWdCLEtBQUssWUFJekVMLE9BQU80QixhQUFlLFNBQVNDLEVBQU9DLEVBQUlDLEdBQ3RDbEQsRUFBRW1ELE1BQ0VDLElBQUtKLEVBQ0xLLE9BQVEsT0FDUkMsU0FBVSxPQUNWOUIsTUFBUXlCLEdBQUlBLEdBQ1pNLFdBQVksYUFFWkMsUUFBUyxTQUFTaEMsR0FFZCxHQURBYSxRQUFRQyxJQUFJZCxHQUNRLEdBQWhCQSxFQUFLZ0MsUUFPTCxPQUhBQyxZQUFZLE9BQU8sZ0RBQ25CcEIsUUFBUUMsSUFBSWQsR0FDWmEsUUFBUUMsSUFBSWQsRUFBS2tDLFVBQ1YsRUFMUDFELEVBQUUsSUFBSWtELEdBQU9KLFVBUXJCYSxNQUFPLFNBQVNuQyxHQUVaeEIsRUFBRSxVQUFVNEQsS0FBS3BDLEVBQUtxQyxjQUN0QnhCLFFBQVFDLElBQUlkLEdBQ1phLFFBQVFDLElBQUlkLEVBQUtrQyxhQWlEN0IxRCxFQUFFLGlCQUFpQjhELGNBQ2ZDLFlBQWEsTUFBTyxPQUFRLE1BQU8sT0FDbkNDLE1BQU8sRUFDUEMsU0FBUyxFQUNUQyxZQUFhLEVBQ2JDLFVBQ0lDLE9BQVEsU0FBU0MsR0FBVyxNQUFPLGdCQUFrQkEsRUFBUUwsTUFBYSxXQUMxRU0sU0FBVSxTQUFTRCxHQUFXLE1BQU8sdUJBQ3JDRSxVQUFXLFNBQVNGLEdBQVcsT0FBT0EsRUFBUUcsT0FBUyxLQUFPSCxFQUFRRyxPQUFTLEVBQUksMEJBQTRCLHlCQUMvR0MsS0FBTSw2QkFDTkMsTUFBTyx1UkFDUEMsbUJBQW9CLFlBQ3BCQyxRQUNJQyxXQUFZLHlDQUNaQyxVQUFXLCtDQUNYQyxTQUFVLG1FQUNWQyxTQUFVLDhDQUNWQyxhQUFjLHFDQUVsQkMsU0FFSUMsa0JBQUEsU0FBQUEsRUFBQUMsR0FBQSxPQUFBQyxFQUFBQyxNQUFBOUUsS0FBQStFLFdBQUEsT0FBQUosRUFBQUssU0FBQSxrQkFBQUgsRUFBQUcsWUFBQUwsR0FBTyxTQUFTTSxHQUNaLE9BQU9OLE1BQU1NLEtBR2pCQyxRQUFTLFNBQVNELEVBQU1FLEdBQ3BCLDBDQXFDaEIzRixFQUFFLGlCQUFpQjhELGNBQ2ZDLFlBQWEsTUFBTyxPQUFRLE1BQU8sTUFBTyxPQUMxQzZCLFlBQWEsSUFDYkMsTUFBTyxhQUNQQyxXQUFXLEVBQ1g3QixTQUFTLEVBQ1Q4QixVQUdJQyxVQUFXLEtBR1hDLFlBQWEsU0FBU3JGLEVBQU9zRixFQUFRQyxFQUFVQyxFQUFZQyxLQUszREMsWUFBYSxTQUFTMUYsRUFBT3NGLEVBQVFDLEVBQVVDLEVBQVlDLEtBSzNERSxPQUFRLFNBQVMzRixFQUFPc0YsRUFBUUMsRUFBVUMsRUFBWUMsTUFJMURHLFFBQ0lDLGdCQUFpQixLQUNqQkMsWUFBYSxLQUNiQyxnQkFBaUJ4RixPQUNqQnlGLE9BQVEsU0FBU0MsRUFBTVgsRUFBUUMsRUFBVUMsRUFBWUMsR0FDakRyRyxFQUFFLHNCQUFzQlMsSUFBSW9HLEVBQUssR0FBTCxRQUdwQ0MsZUFDSUMsV0FBWSxTQUFTM0UsR0FFakJBLEVBQUt3QixLQUFLb0QsS0FBSywrQkFBK0JDLE9BQU8saUdBRXpEQyxJQUFLLHlMQUtMOUUsS0FBTSw0Y0FZTitFLG9CQUFvQixFQUNwQkMsYUFBYSxFQUNiQyxZQUNJUixLQUFNLDJCQUNOekUsS0FBTSxxQkFDTmtGLE1BQU8sNkJBQ1BDLE1BQU8sNkJBQ1BmLE9BQVEsNEJBQ1IxRCxPQUFRLGtDQTlCaEIsZUFnQ2dCLFNBQVNWLEVBQU04RCxFQUFRQyxFQUFVQyxFQUFZQyxHQUNyRCxJQUFJbUIsRUFBWXRCLEVBQU9jLEtBQUssa0NBQ3hCUyxFQUFNekgsRUFBRThELGFBQWE0RCxZQUFZckIsRUFBUTlHLElBQUksSUFFakRpSSxFQUFVRyxZQUFZdkYsRUFBS3dCLE1BQU02RCxFQUFJRyxhQUFhNUQsT0FBU3lELEVBQUlJLGtCQUFrQnJELFFBQVVpRCxFQUFJRyxhQUFhNUQsTUFBUSxPQUFTLFVBRTNHLFNBQWY1QixFQUFLMEYsUUFDSjFGLEVBQUt3QixLQUFLb0QsS0FBSywyQkFBMkJlLHdHQUl0REMsWUFBYSxTQUFTOUIsRUFBUUMsRUFBVUMsRUFBWUMsR0FDaEQsSUFBSW1CLEVBQVl0QixFQUFPYyxLQUFLLGtDQUN4QlMsRUFBTXpILEVBQUU4RCxhQUFhNEQsWUFBWXJCLEVBQVE5RyxJQUFJLElBRWpEaUksRUFBVTlFLEdBQUcsUUFBUyxXQUNsQitFLEVBQUlRLFVBR1pDLFNBQVUsU0FBUzlGLEVBQU04RCxFQUFRQyxFQUFVQyxFQUFZQyxHQUNuRCxJQUFJbUIsRUFBWXRCLEVBQU9jLEtBQUssa0NBQ3hCUyxFQUFNekgsRUFBRThELGFBQWE0RCxZQUFZckIsRUFBUTlHLElBQUksSUFFN0NrSSxFQUFJRyxhQUFhNUQsT0FBU3lELEVBQUlJLGtCQUFrQnJELE9BQVMsRUFBSWlELEVBQUlHLGFBQWE1RCxPQUM5RXdELEVBQVVXLFVBbUR0Qm5JLEVBQUUsOEJBQThCYSxNQUFNLFdBQ2xDYixFQUFFUSxNQUFNUSxZQUFZLDRCQVF4QmhCLEVBQUUsUUFBUTBDLEdBQUcsUUFBUyxrQkFBbUIsV0FFckMsSUFBSTBGLEVBQU1wSSxFQUFFUSxNQUVSNkgsRUFBU3JJLEVBQUUsWUFBWVMsSUFBSzJILEVBQUkzQyxRQUNwQzJDLEVBQUlFLFlBQWFELEdBY2pCQSxFQUFPRSxJQUFJLE9BWkEsV0FDVCxJQUFJQyxFQUFLeEksRUFBRSx1QkFBdUJ5RixLQUFNNEMsRUFBTzVILE9BQy9DNEgsRUFBT0MsWUFBYUUsS0FVR0MiLCJmaWxlIjoiL2pzL3ZhZG1pbi1mb3Jtcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2Nyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgOWYzMDM4MzYyYTU5OWUwZGUyOTEiLCIvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gICAgICAgICAgICAgICAgICAgIENvbG9yc1xyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiQoJy5TZWxlY3QtQ29sb3JzJykuY2hvc2VuKHtcclxuICAgIHBsYWNlaG9sZGVyX3RleHRfbXVsdGlwbGU6ICdTZWxlY2Npb25lIGxvcyBjb2xvcmVzJyxcclxuICAgIC8vIG1heF9zZWxlY3RlZF9vcHRpb25zOiAzLFxyXG4gICAgc2VhcmNoX2NvbnRhaW5zOiB0cnVlLFxyXG4gICAgbm9fcmVzdWx0c190ZXh0OiAnTm8gc2UgaGEgZW5jb250cmFkbyBlbCBjb2xvcidcclxufSk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gICAgICAgICAgICAgICAgICAgICBUYWdzXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4kKCcuU2VsZWN0LVRhZ3MnKS5jaG9zZW4oe1xyXG4gICAgcGxhY2Vob2xkZXJfdGV4dF9tdWx0aXBsZTogJ1NlbGVjY2lvbmUgbGFzIGV0aXF1ZXRhcycsXHJcbiAgICAvLyBtYXhfc2VsZWN0ZWRfb3B0aW9uczogMyxcclxuICAgIHNlYXJjaF9jb250YWluczogdHJ1ZSxcclxuICAgIG5vX3Jlc3VsdHNfdGV4dDogJ05vIHNlIGhhIGVuY29udHJhZG8gbGEgZXRpcXVldGEnXHJcbn0pO1xyXG5cclxuJCgnLlNlbGVjdC1CcmFuZCcpLmNob3Nlbih7XHJcbiAgICBwbGFjZWhvbGRlcl90ZXh0X3NpbmdsZTogJ1NlbGVjY2lvbmUgbGEgbWFyY2EnLFxyXG4gICAgLy8gbWF4X3NlbGVjdGVkX29wdGlvbnM6IDMsXHJcbiAgICBzZWFyY2hfY29udGFpbnM6IHRydWUsXHJcbiAgICBub19yZXN1bHRzX3RleHQ6ICdObyBzZSBoYSBlbmNvbnRyYWRvIGxhIG1hcmNhJ1xyXG59KTtcclxuXHJcblxyXG5cclxuJCgnLlNlbGVjdC1BdHJpYnV0ZScpLmNob3Nlbih7XHJcbiAgICBwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlOiAnU2VsZWNjaW9uYXInLFxyXG4gICAgLy8gbWF4X3NlbGVjdGVkX29wdGlvbnM6IDMsXHJcbiAgICBzZWFyY2hfY29udGFpbnM6IHRydWUsXHJcbiAgICBub19yZXN1bHRzX3RleHQ6ICdObyBzZSBoYSBlbmNvbnRyYWRvJ1xyXG59KTtcclxuXHJcbiQoJy5TZWxlY3QtQ2F0ZWdvcnknKS5jaG9zZW4oe1xyXG4gICAgcGxhY2Vob2xkZXJfdGV4dF9zaW5nbGU6ICdTZWxlY2Npb25lIHVuYSBjYXRlZ29yw61hJyxcclxufSk7XHJcblxyXG4kKCcuU2VsZWN0LUNob3NlbicpLmNob3Nlbih7XHJcbiAgICBwbGFjZWhvbGRlcl90ZXh0X3NpbmdsZTogJ1NlbGVjY2lvbmUgdW5hIGNhdGVnb3LDrWEnLFxyXG59KTtcclxuXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gICAgICAgICAgICAgIFNsdWcgY3JlYXRvclxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiQoXCIuU2x1Z0lucHV0XCIpLmtleXVwKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgVGV4dCAgICAgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgdmFyIHJlZ0V4cCAgID0gL1xccysvZztcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZSgvWyZcXC9cXFxcIyzCoSHCtCMrKCkkfiUuJ1wiOio/PD57fV0vZywnJyk7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UocmVnRXhwLCctJyk7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OxJywgJ24nKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OhJywgJ2EnKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OpJywgJ2UnKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OtJywgJ2knKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OzJywgJ28nKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8O6JywgJ3UnKSA7XHJcbiAgICBcclxuICAgICQoXCIuU2x1Z0lucHV0XCIpLnZhbChUZXh0KTsgICBcclxufSk7XHJcblxyXG4vLyBTbHVnIEF1dG9GaWxsbnB1dCBmcm9tIHRpdGxlIFxyXG5cclxuJChcIiNUaXRsZUlucHV0XCIpLmtleXVwKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB2YXIgc3R0ID0gJCh0aGlzKS52YWwoKTtcclxuICAgIHZhciBUZXh0ICAgICA9ICQodGhpcykudmFsKCk7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnRvTG93ZXJDYXNlKCk7XHJcbiAgICB2YXIgcmVnRXhwICAgPSAvXFxzKy9nO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC5yZXBsYWNlKC9bJlxcL1xcXFwjLMKhIcK0IysoKSR+JS4nXCI6Kj88Pnt9XS9nLCcnKTtcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZShyZWdFeHAsJy0nKTtcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZSgnw7EnLCAnbicpIDtcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZSgnw6EnLCAnYScpIDtcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZSgnw6knLCAnZScpIDtcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZSgnw60nLCAnaScpIDtcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZSgnw7MnLCAnbycpIDtcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZSgnw7onLCAndScpIDtcclxuICAgICQoXCIuU2x1Z0lucHV0XCIpLnZhbChUZXh0KTsgICBcclxufSk7XHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICAgQ1JFQVRFIEZPUk1cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyBTaG93IE5vdGVzIFRleHQgQXJlYVxyXG4kKCcuU2hvd05vdGVzVGV4dEFyZWEnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgdmFyIG5vdGVzID0gJCgnLk5vdGVzVGV4dEFyZWEnKTtcclxuICAgIGlmIChub3Rlcy5oYXNDbGFzcygnSGlkZGVuJykpe1xyXG4gICAgICAgIG5vdGVzLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm90ZXMuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEFkZCBBbm90aGVyIEFkZHJlc3NcclxuJCgnLkFkZEFub3RoZXJBZGRyZXNzQnRuJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIHZhciBhZGRyZXNzSW5wdXQgPSBcIjxpbnB1dCBjbGFzcz0nZm9ybS1jb250cm9sJyBwbGFjZWhvbGRlcj0nSW5ncmVzZSBvdHJvIHRlbMOpZm9ubycgbmFtZT0nZGVsaXZlcnlhZGRyZXNzW10nIHR5cGU9J3RleHQnIHN0eWxlPSdtYXJnaW4tdG9wOjVweCc+XCI7XHJcbiAgICB2YXIgbG9jSW5wdXQgICAgID0gXCI8aW5wdXQgY2xhc3M9J2Zvcm0tY29udHJvbCcgcGxhY2Vob2xkZXI9J0luZ3Jlc2Ugb3RybyB0ZWzDqWZvbm8nIG5hbWU9J2RlbGl2ZXJ5YWRkcmVzc1tdJyB0eXBlPSd0ZXh0JyBzdHlsZT0nbWFyZ2luLXRvcDo1cHgnPlwiO1xyXG5cclxuICAgICQoJy5Bbm90aGVyQWRkcmVzcycpLmFwcGVuZChhZGRyZXNzSW5wdXQpO1xyXG4gICAgJCgnLkFub3RoZXJMb2MnKS5hcHBlbmQobG9jSW5wdXQpO1xyXG59KTtcclxuXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gICAgIENSRUFURSBBUlRJQ0xFIFZBUklBTlRTXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxud2luZG93LmNoZWNrVmFyaWFudHMgPSBmdW5jdGlvbigpXHJcbntcclxuICAgIGxldCBleGlzdGluZ0NvbWJpbmF0aW9ucyA9IFtdO1xyXG4gICAgJChcIi5Db21iaW5hdGlvblwiKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgZXhpc3RpbmdDb21iaW5hdGlvbnMucHVzaCgkKHRoaXMpLmRhdGEoJ2NvbWJpbmF0aW9uJykpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZXhpc3RpbmdDb21iaW5hdGlvbnM7XHJcbn1cclxuXHJcblxyXG53aW5kb3cubWFrZVZhcmlhbnRzID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICBjb25zdCB2YXJpYW50c0NvbnRhaW5lciA9ICQoJyNBcnRpY2xlVmFyaWFudHMnKTtcclxuICAgIGNvbnN0IHZhcmlhbnRTaXplID0gJCgnLlZhcmlhbnRTaXplJyk7XHJcbiAgICBjb25zdCB2YXJpYW50Q29sb3IgPSAkKCcuVmFyaWFudENvbG9yJyk7XHJcbiAgICBcclxuICAgIGxldCBjb2xvcnMgPSBbXTtcclxuICAgIGxldCBzaXplcyA9IFtdO1xyXG5cclxuICAgIFxyXG5cclxuICAgICQuZWFjaCh2YXJpYW50U2l6ZSwgZnVuY3Rpb24oKXtcclxuICAgICAgICBpZigkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKVxyXG4gICAgICAgIHsgICBcclxuICAgICAgICAgICAgc2l6ZSA9IHt9O1xyXG4gICAgICAgICAgICBzaXplWydpZCddID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICAgICAgc2l6ZVsnbmFtZSddID0gJCh0aGlzKS5kYXRhKCduYW1lJyk7XHJcbiAgICAgICAgICAgIHNpemVzLnB1c2goc2l6ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgICQuZWFjaCh2YXJpYW50Q29sb3IsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSlcclxuICAgICAgICB7ICAgXHJcbiAgICAgICAgICAgIGNvbG9yID0ge307XHJcbiAgICAgICAgICAgIGNvbG9yWydpZCddID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICAgICAgY29sb3JbJ25hbWUnXSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xyXG4gICAgICAgICAgICBjb2xvcnMucHVzaChjb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAgICBcclxuICAgIGxldCBjb21iaW5hdGlvbnMgPSBbXTtcclxuXHJcbiAgICAkLmVhY2goY29sb3JzLCBmdW5jdGlvbihpbmRleCwgY29sb3Ipe1xyXG4gICAgICAgICQuZWFjaChzaXplcywgIGZ1bmN0aW9uKGluZGV4LCBzaXplKXtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB7fTsgXHJcbiAgICAgICAgICAgIGl0ZW1bJ2NvbWJpbmF0aW9uJ10gPSBjb2xvclsnbmFtZSddK1wiL1wiK3NpemVbJ25hbWUnXTtcclxuICAgICAgICAgICAgaXRlbVsnY29sb3InXSA9IGNvbG9yWyduYW1lJ107XHJcbiAgICAgICAgICAgIGl0ZW1bJ2NvbG9yX2lkJ10gPSBjb2xvclsnaWQnXTtcclxuICAgICAgICAgICAgaXRlbVsnc2l6ZSddID0gc2l6ZVsnbmFtZSddO1xyXG4gICAgICAgICAgICBpdGVtWydzaXplX2lkJ10gPSBzaXplWydpZCddO1xyXG4gICAgICAgICAgICBjb21iaW5hdGlvbnMucHVzaChpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGNvbWJpbmF0aW9ucyk7XHJcbiAgICBcclxuICAgIGxldCBleGlzdGluZ0NvbWJpbmF0aW9ucyA9IGNoZWNrVmFyaWFudHMoKTtcclxuXHJcbiAgICAkLmVhY2goY29tYmluYXRpb25zLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpXHJcbiAgICB7ICAgXHJcbiAgICAgICAgLy8gRUNNQSBzY3JpcHQgNiBcclxuICAgICAgICBpZighZXhpc3RpbmdDb21iaW5hdGlvbnMuaW5jbHVkZXModmFsdWVbJ2NvbWJpbmF0aW9uJ10pKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHZhcmlhbnRSb3cgPSBcIjx0cj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8dGQgY2xhc3M9J0NvbWJpbmF0aW9uJyBkYXRhLWNvbWJpbmF0aW9uPVwiKyB2YWx1ZVsnY29sb3InXSArXCIvXCIgKyB2YWx1ZVsnc2l6ZSddICsgXCI+XCIrIHZhbHVlWydjb2xvciddICtcIi9cIiArIHZhbHVlWydzaXplJ10gKyBcIjwvdGQ+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGlucHV0IG5hbWU9J3ZhcmlhbnRzW1wiK3ZhbHVlWydjb21iaW5hdGlvbiddK1wiXVtjb2xvcl0nIHZhbHVlPVwiKyB2YWx1ZVsnY29sb3JfaWQnXSArXCIgdHlwZT0naGlkZGVuJyBjbGFzcz0nZm9ybS1jb250cm9sJz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8aW5wdXQgbmFtZT0ndmFyaWFudHNbXCIrdmFsdWVbJ2NvbWJpbmF0aW9uJ10rXCJdW3NpemVdJyB2YWx1ZT1cIisgdmFsdWVbJ3NpemVfaWQnXSArXCIgdHlwZT0naGlkZGVuJyBjbGFzcz0nZm9ybS1jb250cm9sJz5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8dGQ+PGlucHV0IG5hbWU9J3ZhcmlhbnRzW1wiK3ZhbHVlWydjb21iaW5hdGlvbiddK1wiXVtzdG9ja10nIHZhbHVlPScxMCcgdHlwZT0nbnVtYmVyJyBtaW49JzAnIGNsYXNzPSdmb3JtLWNvbnRyb2wnPjwvdGQ+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPHRkPjxhIGNsYXNzPSdSZW1vdmVEeW5Sb3cgZGVsZXRlLWljb24nPjxpIGNsYXNzPSdkZWxldGUtaWNvbiBmYSBmYS10cmFzaCc+PC9pPjwvYT48L3RkPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwvdHI+XCI7XHJcbiAgICAgICAgICAgIHZhcmlhbnRzQ29udGFpbmVyLmFwcGVuZCh2YXJpYW50Um93KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJyNIZWFkZXJWYXJpYW50cycpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxufVxyXG5cclxuXHJcbi8vIFJlbW92ZSBuZXcgdmFyaWFudHMgcm93XHJcbiQoJyNBcnRpY2xlVmFyaWFudHMnKS5vbignY2xpY2snLCAnLlJlbW92ZUR5blJvdycsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICQodGhpcykucGFyZW50cygndHInKS5yZW1vdmUoKTtcclxufSk7XHJcblxyXG4kKCcuUmVtb3ZlVmFyaWFudCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc29sZS5sb2coJCh0aGlzKS5kYXRhKCdyb3dpZCcpKTtcclxuICAgIGRlbGV0ZURCSXRlbSgkKHRoaXMpLmRhdGEoJ3JvdXRlJyksICQodGhpcykuZGF0YSgnaWQnKSwgJCh0aGlzKS5kYXRhKCdyb3dpZCcpKTtcclxufSk7XHJcblxyXG5cclxud2luZG93LmRlbGV0ZURCSXRlbSA9IGZ1bmN0aW9uKHJvdXRlLCBpZCwgcm93aWQpe1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLCAgICAgICAgICAgICBcclxuICAgICAgICBkYXRhVHlwZTogJ0pTT04nLFxyXG4gICAgICAgIGRhdGE6IHsgaWQ6IGlkIH0sXHJcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKXtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAkKFwiI1wiK3Jvd2lkKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkKFwiI1wiK3Jvd2lkKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0X2Vycm9yKCdVcHMhJywnSGEgb2N1cnJpZG8gdW4gZXJyb3IgYWwgZWxpbWluYXIgbGEgdmFyaWFudGUnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgRURJVE9SUyBBTkQgRklFTERTIFxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vICQoJyNNdWx0aV9JbWFnZXMnKS5maWxldXBsb2FkZXIoe1xyXG4vLyAgICAgZXh0ZW5zaW9uczogWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJ10sXHJcbi8vICAgICBsaW1pdDogbnVsbCxcclxuLy8gICAgIGFkZE1vcmU6IHRydWUsXHJcbi8vICAgICAvLyBQZXNvIG3DoXhpbW8gZGUgdG9kYXMgbGFzIGltw6FnZW5lc1xyXG4vLyAgICAgbWF4U2l6ZTogNSxcclxuLy8gICAgIC8vIFBlc28gbcOheGltbyBwb3IgaW3DoWdlblxyXG4vLyAgICAgZmlsZU1heFNpemU6IDIsXHJcbi8vICAgICB0aGVtZTogJ3RodW1ibmFpbHMnLFxyXG4vLyAgICAgZW5hYmxlQXBpOiB0cnVlLFxyXG4vLyAgICAgY2FwdGlvbnM6IHtcclxuLy8gICAgICAgICBidXR0b246IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuICdTZWxlY2Npb25hciAnICsgKG9wdGlvbnMubGltaXQgPT0gMSA/ICdJbcOhZ2VuZXMnIDogJ0ltw6FnZW4nKTsgfSxcclxuLy8gICAgICAgICBmZWVkYmFjazogZnVuY3Rpb24ob3B0aW9ucykgeyByZXR1cm4gJ0hhZ2EgY2xpY2sgcGFyYSBhZ3JlZ2FyLi4uJzsgfSxcclxuLy8gICAgICAgICBmZWVkYmFjazI6IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuIG9wdGlvbnMubGVuZ3RoICsgJyAnICsgKG9wdGlvbnMubGVuZ3RoID4gMSA/ICcgaW3DoWdlbmVzIHNlbGVjY2lvbmFkYXMnIDogJyBpbcOhZ2VuIHNlbGVjY2lvbmFkYScpOyB9LFxyXG4vLyAgICAgICAgIGRyb3A6ICdBcnJhc3RyZSBsYXMgaW3DoWdlbmVzIGFxdcOtJyxcclxuLy8gICAgICAgICBwYXN0ZTogJzxkaXYgY2xhc3M9XCJmaWxldXBsb2FkZXItcGVuZGluZy1sb2FkZXJcIj48ZGl2IGNsYXNzPVwibGVmdC1oYWxmXCIgc3R5bGU9XCJhbmltYXRpb24tZHVyYXRpb246ICR7bXN9c1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJzcGlubmVyXCIgc3R5bGU9XCJhbmltYXRpb24tZHVyYXRpb246ICR7bXN9c1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJyaWdodC1oYWxmXCIgc3R5bGU9XCJhbmltYXRpb24tZHVyYXRpb246ICR7bXN9c1wiPjwvZGl2PjwvZGl2PiBQYXN0aW5nIGEgZmlsZSwgY2xpY2sgaGVyZSB0byBjYW5jZWwuJyxcclxuLy8gICAgICAgICByZW1vdmVDb25maXJtYXRpb246ICdFbGltaW5hcj8nLFxyXG4vLyAgICAgICAgIGVycm9yczoge1xyXG4vLyAgICAgICAgICAgICBmaWxlc0xpbWl0OiAnU29sbyBlcyBwb3NpYmxlIHN1YmlyICR7bGltaXR9IGltw6FnZW4uJyxcclxuLy8gICAgICAgICAgICAgZmlsZXNUeXBlOiAnU29sbyBzZSBhY2VwdGFuIGxvcyBmb3JtYXRvczogJHtleHRlbnNpb25zfS4nLFxyXG4vLyAgICAgICAgICAgICBmaWxlU2l6ZTogJyR7bmFtZX0gZXMgbXV5IGdyYW5kZXMhIFNlbGVjY2lvbmUgdW5hIGRlICR7ZmlsZU1heFNpemV9TUIuIGNvbW8gbcOheGltbycsXHJcbi8vICAgICAgICAgICAgIGZpbGVzU2l6ZUFsbDogJyR7bmFtZX0gc29uIG11eSBncmFuZGVzISBTZWxlY2Npb25lIHVuYXMgZGUgJHtmaWxlTWF4U2l6ZX1NQi4gY29tbyBtw6F4aW1vJyxcclxuLy8gICAgICAgICAgICAgZmlsZU5hbWU6ICdMYSBpbcOhZ2VuIGNvbiBlbCBub21icmUgJHtuYW1lfSB5YSBlc3TDoSBzZWxlY2Npb25hZGEuJyxcclxuLy8gICAgICAgICAgICAgZm9sZGVyVXBsb2FkOiAnTm8gZXN0w6EgcGVybWl0aWRvIHN1YmlyIGNhcnBldGFzLidcclxuLy8gICAgICAgICB9LFxyXG4vLyAgICAgICAgIGRpYWxvZ3M6IHtcclxuLy8gICAgICAgICAgICAgLy8gYWxlcnQgZGlhbG9nXHJcbi8vICAgICAgICAgICAgIGFsZXJ0OiBmdW5jdGlvbih0ZXh0KSB7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gYWxlcnRfY29uZmlybSh0ZXh0KTtcclxuLy8gICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgLy8gY29uZmlybSBkaWFsb2dcclxuLy8gICAgICAgICAgICAgY29uZmlybTogZnVuY3Rpb24odGV4dCwgY2FsbGJhY2spIHtcclxuLy8gICAgICAgICAgICAgICAgICdjb25maXJtKHRleHQpID8gY2FsbGJhY2soKSA6IG51bGw7J1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSxcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4kKCcjU2luZ2xlX0ltYWdlJykuZmlsZXVwbG9hZGVyKHtcclxuICAgIGV4dGVuc2lvbnM6IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZiddLFxyXG4gICAgbGltaXQ6IDEsXHJcbiAgICBhZGRNb3JlOiBmYWxzZSxcclxuICAgIGZpbGVNYXhTaXplOiAyLFxyXG4gICAgY2FwdGlvbnM6IHtcclxuICAgICAgICBidXR0b246IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuICdTZWxlY2Npb25hciAnICsgKG9wdGlvbnMubGltaXQgPT0gMSA/ICdJbcOhZ2VuJyA6ICdJbcOhZ2VuJyk7IH0sXHJcbiAgICAgICAgZmVlZGJhY2s6IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuICdBZ3JlZ2FyIGltw6FnZW5lcy4uLic7IH0sXHJcbiAgICAgICAgZmVlZGJhY2syOiBmdW5jdGlvbihvcHRpb25zKSB7IHJldHVybiBvcHRpb25zLmxlbmd0aCArICcgJyArIChvcHRpb25zLmxlbmd0aCA+IDEgPyAnIGltw6FnZW5lcyBzZWxlY2Npb25hZGFzJyA6ICcgaW3DoWdlbiBzZWxlY2Npb25hZGEnKTsgfSxcclxuICAgICAgICBkcm9wOiAnQXJyYXN0cmUgbGFzIGltw6FnZW5lcyBhcXXDrScsXHJcbiAgICAgICAgcGFzdGU6ICc8ZGl2IGNsYXNzPVwiZmlsZXVwbG9hZGVyLXBlbmRpbmctbG9hZGVyXCI+PGRpdiBjbGFzcz1cImxlZnQtaGFsZlwiIHN0eWxlPVwiYW5pbWF0aW9uLWR1cmF0aW9uOiAke21zfXNcIj48L2Rpdj48ZGl2IGNsYXNzPVwic3Bpbm5lclwiIHN0eWxlPVwiYW5pbWF0aW9uLWR1cmF0aW9uOiAke21zfXNcIj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHQtaGFsZlwiIHN0eWxlPVwiYW5pbWF0aW9uLWR1cmF0aW9uOiAke21zfXNcIj48L2Rpdj48L2Rpdj4gUGFzdGluZyBhIGZpbGUsIGNsaWNrIGhlcmUgdG8gY2FuY2VsLicsXHJcbiAgICAgICAgcmVtb3ZlQ29uZmlybWF0aW9uOiAnRWxpbWluYXI/JyxcclxuICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgZmlsZXNMaW1pdDogJ1NvbG8gZXMgcG9zaWJsZSBzdWJpciAke2xpbWl0fSBpbcOhZ2VuLicsXHJcbiAgICAgICAgICAgIGZpbGVzVHlwZTogJ1NvbG8gc2UgYWNlcHRhbiBsb3MgZm9ybWF0b3M6ICR7ZXh0ZW5zaW9uc30uJyxcclxuICAgICAgICAgICAgZmlsZVNpemU6ICdMYSBpbcOhZ2VuIHBlc2EgbXVjaG8hIEVsaWphIHVuYSBkZSAke2ZpbGVNYXhTaXplfU1CIGNvbW8gbcOheGltby4nLFxyXG4gICAgICAgICAgICBmaWxlTmFtZTogJ0xhIGltw6FnZW4gY29uIGVzZSBub21icmUgeWEgaGEgc2lkbyBlbGVnaWRhJyxcclxuICAgICAgICAgICAgZm9sZGVyVXBsb2FkOiAnTm8gZXN0w6EgcGVybWl0aWRvIHN1YmlyIGNhcnBldGFzLicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkaWFsb2dzOiB7XHJcbiAgICAgICAgICAgIC8vIGFsZXJ0IGRpYWxvZ1xyXG4gICAgICAgICAgICBhbGVydDogZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsZXJ0KHRleHQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBjb25maXJtIGRpYWxvZ1xyXG4gICAgICAgICAgICBjb25maXJtOiBmdW5jdGlvbih0ZXh0LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgJ2NvbmZpcm0odGV4dCkgPyBjYWxsYmFjaygpIDogbnVsbDsnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vZW5hYmxlIGZpbGV1cGxvYWRlciBwbHVnaW5cclxuLy8gJCgnI0ltYWdlc1VwbG9hZGVyJykuZmlsZXVwbG9hZGVyKHtcclxuLy8gICAgIGV4dGVuc2lvbnM6IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZiddLFxyXG4vLyAgICAgYWRkTW9yZTogdHJ1ZSxcclxuLy8gICAgIGVuYWJsZUFwaTogdHJ1ZSxcclxuLy8gICAgIHRodW1ibmFpbHM6IHtcclxuLy8gICAgICAgICBvbkltYWdlTG9hZGVkOiBmdW5jdGlvbihpdGVtKSB7XHJcbi8vICAgICAgICAgICAgIGl0ZW0uaHRtbC5maW5kKCcuZmlsZXVwbG9hZGVyLWFjdGlvbi1yZW1vdmUnKS5iZWZvcmUoJzxhIGNsYXNzPVwiZmlsZXVwbG9hZGVyLWFjdGlvbiBmaWxldXBsb2FkZXItYWN0aW9uLXNvcnQgZmFzIGZhLXNvcnQgdGl0bGU9XCJTb3J0XCI+PGk+PC9pPjwvYT4nKTtcclxuLy8gICAgICAgICAgICAgaWYgKCFpdGVtLmh0bWwuZmluZCgnLmZpbGV1cGxvYWRlci1hY3Rpb24tZWRpdCcpLmxlbmd0aClcclxuLy8gICAgICAgICAgICAgICAgIGl0ZW0uaHRtbC5maW5kKCcuZmlsZXVwbG9hZGVyLWFjdGlvbi1yZW1vdmUnKS5iZWZvcmUoJzxhIGNsYXNzPVwiZmlsZXVwbG9hZGVyLWFjdGlvbiBmaWxldXBsb2FkZXItYWN0aW9uLXBvcHVwIGZpbGV1cGxvYWRlci1hY3Rpb24tZWRpdCBmYXMgZmEtZWRpdFwiIHRpdGxlPVwiRWRpdFwiPjxpPjwvaT48L2E+Jyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIGVkaXRvcjoge1xyXG4vLyAgICAgICAgIGNyb3BwZXI6IHtcclxuLy8gICAgICAgICAgICAgcmF0aW86ICcxOjEnLFxyXG4vLyAgICAgICAgICAgICBtaW5XaWR0aDogMTAwLFxyXG4vLyAgICAgICAgICAgICBtaW5IZWlnaHQ6IDEwMCxcclxuLy8gICAgICAgICAgICAgc2hvd0dyaWQ6IHRydWVcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgc29ydGVyOiB7XHJcbi8vICAgICAgICAgc2VsZWN0b3JFeGNsdWRlOiBudWxsLFxyXG4vLyAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxyXG4vLyAgICAgICAgIHNjcm9sbENvbnRhaW5lcjogd2luZG93LFxyXG4vLyAgICAgICAgIG9uU29ydDogZnVuY3Rpb24obGlzdCwgbGlzdEVsLCBwYXJlbnRFbCwgbmV3SW5wdXRFbCwgaW5wdXRFbCkge1xyXG4vLyAgICAgICAgICAgICAvLyBvblNvcnQgY2FsbGJhY2tcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbiQoJyNNdWx0aV9JbWFnZXMnKS5maWxldXBsb2FkZXIoe1xyXG4gICAgZXh0ZW5zaW9uczogWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ2JtcCddLFxyXG4gICAgY2hhbmdlSW5wdXQ6ICcgJyxcclxuICAgIHRoZW1lOiAndGh1bWJuYWlscycsXHJcbiAgICBlbmFibGVBcGk6IHRydWUsXHJcbiAgICBhZGRNb3JlOiB0cnVlLFxyXG4gICAgZHJhZ0Ryb3A6IHtcclxuICAgICAgICAvLyBzZXQgdGhlIGRyb3AgY29udGFpbmVyIHtudWxsLCBTdHJpbmcsIGpRdWVyeSBPYmplY3R9XHJcbiAgICAgICAgLy8gZXhhbXBsZTogJ2JvZHknXHJcbiAgICAgICAgY29udGFpbmVyOiBudWxsLFxyXG4gICAgXHJcbiAgICAgICAgLy8gQ2FsbGJhY2sgZmlyZWQgb24gZW50ZXJpbmcgd2l0aCBkcmFnZ2luZyBmaWxlcyB0aGUgZHJvcCBjb250YWluZXJcclxuICAgICAgICBvbkRyYWdFbnRlcjogZnVuY3Rpb24oZXZlbnQsIGxpc3RFbCwgcGFyZW50RWwsIG5ld0lucHV0RWwsIGlucHV0RWwpIHtcclxuICAgICAgICAgICAgLy8gY2FsbGJhY2sgd2lsbCBnbyBoZXJlXHJcbiAgICAgICAgfSxcclxuICAgIFxyXG4gICAgICAgIC8vIENhbGxiYWNrIGZpcmVkIG9uIGxlYXZpbmcgd2l0aCBkcmFnZ2luZyBmaWxlcyB0aGUgZHJvcCBjb250YWluZXJcclxuICAgICAgICBvbkRyYWdMZWF2ZTogZnVuY3Rpb24oZXZlbnQsIGxpc3RFbCwgcGFyZW50RWwsIG5ld0lucHV0RWwsIGlucHV0RWwpIHtcclxuICAgICAgICAgICAgLy8gY2FsbGJhY2sgd2lsbCBnbyBoZXJlXHJcbiAgICAgICAgfSxcclxuICAgIFxyXG4gICAgICAgIC8vIENhbGxiYWNrIGZpcmVkIG9uIGRyb3BwaW5nIHRoZSBmaWxlcyBpbiB0aGUgZHJvcCBjb250YWluZXJcclxuICAgICAgICBvbkRyb3A6IGZ1bmN0aW9uKGV2ZW50LCBsaXN0RWwsIHBhcmVudEVsLCBuZXdJbnB1dEVsLCBpbnB1dEVsKSB7XHJcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrIHdpbGwgZ28gaGVyZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzb3J0ZXI6IHtcclxuICAgICAgICBzZWxlY3RvckV4Y2x1ZGU6IG51bGwsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXHJcbiAgICAgICAgc2Nyb2xsQ29udGFpbmVyOiB3aW5kb3csXHJcbiAgICAgICAgb25Tb3J0OiBmdW5jdGlvbihsaXN0LCBsaXN0RWwsIHBhcmVudEVsLCBuZXdJbnB1dEVsLCBpbnB1dEVsKSB7XHJcbiAgICAgICAgICAgICQoJyNGZWF0dXJlZEltYWdlTmFtZScpLnZhbChsaXN0WzBdWyduYW1lJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB0aHVtYm5haWxzOiB7XHJcbiAgICAgICAgb25JdGVtU2hvdzogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAvLyBhZGQgc29ydGVyIGJ1dHRvbiB0byB0aGUgaXRlbSBodG1sPGkgY2xhc3M9XCJmYXMgZmEtc29ydFwiPjwvaT5cclxuICAgICAgICAgICAgaXRlbS5odG1sLmZpbmQoJy5maWxldXBsb2FkZXItYWN0aW9uLXJlbW92ZScpLmJlZm9yZSgnPGEgY2xhc3M9XCJmaWxldXBsb2FkZXItYWN0aW9uIGZpbGV1cGxvYWRlci1hY3Rpb24tc29ydCBmYXMgZmEtc29ydFwiIHRpdGxlPVwiU29ydFwiPjxpPjwvaT48L2E+Jyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBib3g6ICc8ZGl2IGNsYXNzPVwiZmlsZXVwbG9hZGVyLWl0ZW1zXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8dWwgY2xhc3M9XCJmaWxldXBsb2FkZXItaXRlbXMtbGlzdFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cImZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0XCI+PGRpdiBjbGFzcz1cImZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0LWlubmVyXCI+KzwvZGl2PjwvbGk+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8L3VsPicgK1xyXG4gICAgICAgICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgIGl0ZW06ICc8bGkgY2xhc3M9XCJmaWxldXBsb2FkZXItaXRlbVwiPicgKyBcclxuICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmlsZXVwbG9hZGVyLWl0ZW0taW5uZXJcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRodW1ibmFpbC1ob2xkZXJcIj4ke2ltYWdlfTwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYWN0aW9ucy1ob2xkZXJcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImZpbGV1cGxvYWRlci1jdXN0b20tYWN0aW9uIGZpbGV1cGxvYWRlci1hY3Rpb24tc29ydFwiIHRpdGxlPVwiT3JkZW5hclwiPjxpIGNsYXNzPVwiZmFzIGZhLWFycm93cy1hbHRcIj48L2k+PC9hPiAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImZpbGV1cGxvYWRlci1jdXN0b20tYWN0aW9uIGZpbGV1cGxvYWRlci1hY3Rpb24tcmVtb3ZlXCIgdGl0bGU9XCJFbGltaW5hclwiPlg8L2E+ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZmlsZXVwbG9hZGVyLWFjdGlvbi1wb3B1cFwiPjwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9ncmVzcy1ob2xkZXJcIj4ke3Byb2dyZXNzQmFyfTwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAnPC9saT4nLFxyXG5cclxuICAgICAgICBzdGFydEltYWdlUmVuZGVyZXI6IHRydWUsXHJcbiAgICAgICAgY2FudmFzSW1hZ2U6IGZhbHNlLFxyXG4gICAgICAgIF9zZWxlY3RvcnM6IHtcclxuICAgICAgICAgICAgbGlzdDogJy5maWxldXBsb2FkZXItaXRlbXMtbGlzdCcsXHJcbiAgICAgICAgICAgIGl0ZW06ICcuZmlsZXVwbG9hZGVyLWl0ZW0nLFxyXG4gICAgICAgICAgICBzdGFydDogJy5maWxldXBsb2FkZXItYWN0aW9uLXN0YXJ0JyxcclxuICAgICAgICAgICAgcmV0cnk6ICcuZmlsZXVwbG9hZGVyLWFjdGlvbi1yZXRyeScsXHJcbiAgICAgICAgICAgIHNvcnRlcjogJy5maWxldXBsb2FkZXItYWN0aW9uLXNvcnQnLFxyXG4gICAgICAgICAgICByZW1vdmU6ICcuZmlsZXVwbG9hZGVyLWFjdGlvbi1yZW1vdmUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkl0ZW1TaG93OiBmdW5jdGlvbihpdGVtLCBsaXN0RWwsIHBhcmVudEVsLCBuZXdJbnB1dEVsLCBpbnB1dEVsKSB7XHJcbiAgICAgICAgICAgIHZhciBwbHVzSW5wdXQgPSBsaXN0RWwuZmluZCgnLmZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0JyksXHJcbiAgICAgICAgICAgICAgICBhcGkgPSAkLmZpbGV1cGxvYWRlci5nZXRJbnN0YW5jZShpbnB1dEVsLmdldCgwKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBwbHVzSW5wdXQuaW5zZXJ0QWZ0ZXIoaXRlbS5odG1sKVthcGkuZ2V0T3B0aW9ucygpLmxpbWl0ICYmIGFwaS5nZXRDaG9vc2VkRmlsZXMoKS5sZW5ndGggPj0gYXBpLmdldE9wdGlvbnMoKS5saW1pdCA/ICdoaWRlJyA6ICdzaG93J10oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKGl0ZW0uZm9ybWF0ID09ICdpbWFnZScpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uaHRtbC5maW5kKCcuZmlsZXVwbG9hZGVyLWl0ZW0taWNvbicpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24obGlzdEVsLCBwYXJlbnRFbCwgbmV3SW5wdXRFbCwgaW5wdXRFbCkge1xyXG4gICAgICAgIHZhciBwbHVzSW5wdXQgPSBsaXN0RWwuZmluZCgnLmZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0JyksXHJcbiAgICAgICAgICAgIGFwaSA9ICQuZmlsZXVwbG9hZGVyLmdldEluc3RhbmNlKGlucHV0RWwuZ2V0KDApKTtcclxuICAgIFxyXG4gICAgICAgIHBsdXNJbnB1dC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYXBpLm9wZW4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBvblJlbW92ZTogZnVuY3Rpb24oaXRlbSwgbGlzdEVsLCBwYXJlbnRFbCwgbmV3SW5wdXRFbCwgaW5wdXRFbCkge1xyXG4gICAgICAgIHZhciBwbHVzSW5wdXQgPSBsaXN0RWwuZmluZCgnLmZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0JyksXHJcbiAgICAgICAgICAgIGFwaSA9ICQuZmlsZXVwbG9hZGVyLmdldEluc3RhbmNlKGlucHV0RWwuZ2V0KDApKTtcclxuICAgIFxyXG4gICAgICAgIGlmIChhcGkuZ2V0T3B0aW9ucygpLmxpbWl0ICYmIGFwaS5nZXRDaG9vc2VkRmlsZXMoKS5sZW5ndGggLSAxIDwgYXBpLmdldE9wdGlvbnMoKS5saW1pdClcclxuICAgICAgICAgICAgcGx1c0lucHV0LnNob3coKTtcclxuICAgIH0sXHJcbiAgICAvKlxyXG4gICAgLy8gd2hpbGUgdXNpbmcgdXBsb2FkIG9wdGlvbiwgcGxlYXNlIHNldFxyXG4gICAgLy8gc3RhcnRJbWFnZVJlbmRlcmVyOiBmYWxzZVxyXG4gICAgLy8gZm9yIGEgYmV0dGVyIGVmZmVjdFxyXG4gICAgdXBsb2FkOiB7XHJcbiAgICAgICAgdXJsOiAnLi9waHAvdXBsb2FkX2ZpbGUucGhwJyxcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICBlbmN0eXBlOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsXHJcbiAgICAgICAgc3RhcnQ6IHRydWUsXHJcbiAgICAgICAgc3luY2hyb246IHRydWUsXHJcbiAgICAgICAgYmVmb3JlU2VuZDogbnVsbCxcclxuICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIGl0ZW0pIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uaHRtbC5maW5kKCcucHJvZ3Jlc3MtaG9sZGVyJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5yZW5kZXJUaHVtYm5haWwoKTtcclxuICAgICAgICAgICAgfSwgNDAwKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbS5odG1sLmZpbmQoJy5wcm9ncmVzcy1ob2xkZXInKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGl0ZW0uaHRtbC5maW5kKCcuZmlsZXVwbG9hZGVyLWl0ZW0taWNvbiBpJykudGV4dCgnRmFpbGVkIScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24oZGF0YSwgaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3NCYXIgPSBpdGVtLmh0bWwuZmluZCgnLnByb2dyZXNzLWhvbGRlcicpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYocHJvZ3Jlc3NCYXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuZmluZCgnLmZpbGV1cGxvYWRlci1wcm9ncmVzc2JhciAuYmFyJykud2lkdGgoZGF0YS5wZXJjZW50YWdlICsgXCIlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRyYWdEcm9wOiB7XHJcbiAgICAgICAgY29udGFpbmVyOiAnLmZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0J1xyXG4gICAgfSxcclxuICAgIG9uUmVtb3ZlOiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgJC5wb3N0KCdwaHAvdXBsb2FkX3JlbW92ZS5waHAnLCB7XHJcbiAgICAgICAgICAgIGZpbGU6IGl0ZW0ubmFtZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgICovXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gc2V0SW1hZ2VPcmRlcklucHV0cygpIFxyXG57XHJcbiAgICBjb25zb2xlLmxvZyhcIkFncmVnYW5kbyBJbnB1dHNcIik7XHJcbiAgICAkKCcjT3JkZXJJbnB1dHMnKS5odG1sKFwiPGlucHV0IHZhbHVlPSdvcmRlcicgbmFtZT0nVGVzdCc+IE9yZGVuXCIpO1xyXG59XHJcblxyXG5cclxuJCgnLkRpc3BsYXktSW5wdXQtTW9kaWZpY2FibGUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZGlzcGxheS1pbnB1dC1kaXNhYmxlZCcpOyBcclxufSk7XHJcblxyXG5cclxuLy8gLS0tLSBNb2RpZmljYWJsZSBpbnB1dCB0ZXh0XHJcbi8vIEh0bWwgZWxlbWVudFxyXG4vLzxwIGRhdGEtZWRpdGFibGUgY2xhc3M9XCJTbHVnSW5wdXRcIj57eyAkYXJ0aWNsZS0+c2x1ZyB9fTwvcD4gICBcclxuXHJcbiQoJ2JvZHknKS5vbignY2xpY2snLCAnW2RhdGEtZWRpdGFibGVdJywgZnVuY3Rpb24oKXtcclxuICBcclxuICAgIHZhciAkZWwgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICB2YXIgJGlucHV0ID0gJCgnPGlucHV0Lz4nKS52YWwoICRlbC50ZXh0KCkgKTtcclxuICAgICRlbC5yZXBsYWNlV2l0aCggJGlucHV0ICk7XHJcbiAgICBcclxuICAgIHZhciBzYXZlID0gZnVuY3Rpb24oKXtcclxuICAgICAgdmFyICRwID0gJCgnPHAgZGF0YS1lZGl0YWJsZSAvPicpLnRleHQoICRpbnB1dC52YWwoKSApO1xyXG4gICAgICAkaW5wdXQucmVwbGFjZVdpdGgoICRwICk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAgV2UncmUgZGVmaW5pbmcgdGhlIGNhbGxiYWNrIHdpdGggYG9uZWAsIGJlY2F1c2Ugd2Uga25vdyB0aGF0XHJcbiAgICAgIHRoZSBlbGVtZW50IHdpbGwgYmUgZ29uZSBqdXN0IGFmdGVyIHRoYXQsIGFuZCB3ZSBkb24ndCB3YW50IFxyXG4gICAgICBhbnkgY2FsbGJhY2tzIGxlZnRvdmVycyB0YWtlIG1lbW9yeS4gXHJcbiAgICAgIE5leHQgdGltZSBgcGAgdHVybnMgaW50byBgaW5wdXRgIHRoaXMgc2luZ2xlIGNhbGxiYWNrIFxyXG4gICAgICB3aWxsIGJlIGFwcGxpZWQgYWdhaW4uXHJcbiAgICAqL1xyXG4gICAgJGlucHV0Lm9uZSgnYmx1cicsIHNhdmUpLmZvY3VzKCk7XHJcbiAgICBcclxuICB9KTtcclxuICBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXNvdXJjZXMvYXNzZXRzL2pzL3ZhZG1pbi1mb3Jtcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=